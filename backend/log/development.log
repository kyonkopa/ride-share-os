  [1m[35m (102.2ms)[0m  [1m[35mCREATE DATABASE "backend_development" ENCODING = 'unicode' /*application='Backend'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Backend'*/[0m
  [1m[35m (199.7ms)[0m  [1m[35mCREATE DATABASE "backend_development" ENCODING = 'unicode' /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Backend'*/[0m
  [1m[35m (75.0ms)[0m  [1m[35mCREATE DATABASE "backend_test" ENCODING = 'unicode' /*application='Backend'*/[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (6.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-10-22 07:11:04.987696', '2025-10-22 07:11:04.987699') RETURNING "key" /*application='Backend'*/[0m
Migrating to CreateDrivers (20251022070726)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "full_name" character varying NOT NULL, "dob" date NOT NULL, "email" character varying NOT NULL, "verified" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_drivers_on_email" ON "drivers" ("email") /*application='Backend'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_drivers_on_verified" ON "drivers" ("verified") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070726') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateVehicles (20251022070730)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "plate" character varying NOT NULL, "model" character varying NOT NULL, "latest_odometer" integer DEFAULT 0 NOT NULL, "latest_range" integer DEFAULT 0 NOT NULL, "telematics_source" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_vehicles_on_plate" ON "vehicles" ("plate") /*application='Backend'*/[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_vehicles_on_telematics_source" ON "vehicles" ("telematics_source") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070730') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateShiftAssignments (20251022070734)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "shift_assignments" ("id" bigserial primary key, "city" integer NOT NULL, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "start_time" timestamp(6) NOT NULL, "end_time" timestamp(6) NOT NULL, "recurrence_rule" character varying, "status" integer DEFAULT 0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ec87f288c0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_d42245fd86"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_driver_id" ON "shift_assignments" ("driver_id") /*application='Backend'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_vehicle_id" ON "shift_assignments" ("vehicle_id") /*application='Backend'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_city" ON "shift_assignments" ("city") /*application='Backend'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_status" ON "shift_assignments" ("status") /*application='Backend'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_start_time" ON "shift_assignments" ("start_time") /*application='Backend'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_driver_id_and_start_time" ON "shift_assignments" ("driver_id", "start_time") /*application='Backend'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_vehicle_id_and_start_time" ON "shift_assignments" ("vehicle_id", "start_time") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070734') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateShiftEvents (20251022070742)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "shift_events" ("id" bigserial primary key, "shift_assignment_id" bigint NOT NULL, "event_type" integer NOT NULL, "timestamp" timestamp(6) NOT NULL, "odometer" integer, "vehicle_range" integer, "gps_lat" decimal(10,6), "gps_lon" decimal(10,6), "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_384f0e60f2"
FOREIGN KEY ("shift_assignment_id")
  REFERENCES "shift_assignments" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_shift_assignment_id" ON "shift_events" ("shift_assignment_id") /*application='Backend'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_event_type" ON "shift_events" ("event_type") /*application='Backend'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_timestamp" ON "shift_events" ("timestamp") /*application='Backend'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_shift_assignment_id_and_timestamp" ON "shift_events" ("shift_assignment_id", "timestamp") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070742') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateRevenueRecords (20251022070755)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "revenue_records" ("id" bigserial primary key, "shift_assignment_id" bigint NOT NULL, "driver_id" bigint NOT NULL, "total_revenue" decimal(10,2) DEFAULT 0.0 NOT NULL, "total_profit" decimal(10,2) DEFAULT 0.0 NOT NULL, "reconciled" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d9189ba84e"
FOREIGN KEY ("shift_assignment_id")
  REFERENCES "shift_assignments" ("id")
, CONSTRAINT "fk_rails_ec4a4fb8b7"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_shift_assignment_id" ON "revenue_records" ("shift_assignment_id") /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_driver_id" ON "revenue_records" ("driver_id") /*application='Backend'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_reconciled" ON "revenue_records" ("reconciled") /*application='Backend'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_driver_id_and_created_at" ON "revenue_records" ("driver_id", "created_at") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070755') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateExpenses (20251022070803)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "expenses" ("id" bigserial primary key, "driver_id" bigint, "vehicle_id" bigint, "amount" decimal(10,2) NOT NULL, "category" character varying NOT NULL, "date" date NOT NULL, "receipt_url" character varying, "approved_by" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a16bd53b9b"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_de942b3df2"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
) /*application='Backend'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_driver_id" ON "expenses" ("driver_id") /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_vehicle_id" ON "expenses" ("vehicle_id") /*application='Backend'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_category" ON "expenses" ("category") /*application='Backend'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_date" ON "expenses" ("date") /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_driver_id_and_date" ON "expenses" ("driver_id", "date") /*application='Backend'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_vehicle_id_and_date" ON "expenses" ("vehicle_id", "date") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070803') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateChargingStations (20251022070811)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "charging_stations" ("id" bigserial primary key, "name" character varying NOT NULL, "location_lat" decimal(10,6) NOT NULL, "location_lon" decimal(10,6) NOT NULL, "connectors" json DEFAULT '[]' NOT NULL, "status" integer DEFAULT 0 NOT NULL, "provider_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_charging_stations_on_status" ON "charging_stations" ("status") /*application='Backend'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_charging_stations_on_provider_id" ON "charging_stations" ("provider_id") /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_charging_stations_on_location_lat_and_location_lon" ON "charging_stations" ("location_lat", "location_lon") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070811') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateNotifications (20251022070817)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "user_id" integer NOT NULL, "type" character varying NOT NULL, "payload" json DEFAULT '{}' NOT NULL, "read_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_notifications_on_user_id" ON "notifications" ("user_id") /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_notifications_on_type" ON "notifications" ("type") /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_notifications_on_read_at" ON "notifications" ("read_at") /*application='Backend'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_notifications_on_user_id_and_read_at" ON "notifications" ("user_id", "read_at") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070817') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mDriver Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."email" = 'john@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mCACHE Driver Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."email" = 'john@example.com' LIMIT 1[0m
  [1m[36mVehicle Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."plate" = 'ABC-123' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mCACHE Vehicle Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."plate" = 'ABC-123' LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting CreateNotifications (20251022070817)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP INDEX  "index_notifications_on_user_id_and_read_at" /*application='Backend'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_notifications_on_read_at" /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_notifications_on_type" /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_notifications_on_user_id" /*application='Backend'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "notifications" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070817' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting CreateChargingStations (20251022070811)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP INDEX  "index_charging_stations_on_location_lat_and_location_lon" /*application='Backend'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_charging_stations_on_provider_id" /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_charging_stations_on_status" /*application='Backend'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE "charging_stations" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070811' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting CreateExpenses (20251022070803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP INDEX  "index_expenses_on_vehicle_id_and_date" /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_expenses_on_driver_id_and_date" /*application='Backend'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_expenses_on_date" /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_expenses_on_category" /*application='Backend'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mDROP TABLE "expenses" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (5.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070803' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting CreateRevenueRecords (20251022070755)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP INDEX  "index_revenue_records_on_driver_id_and_created_at" /*application='Backend'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP INDEX  "index_revenue_records_on_reconciled" /*application='Backend'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "revenue_records" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070755' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting CreateShiftEvents (20251022070742)
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_shift_events_on_shift_assignment_id_and_timestamp" /*application='Backend'*/[0m
  [1m[35m (3.9ms)[0m  [1m[35mDROP INDEX  "index_shift_events_on_timestamp" /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_shift_events_on_event_type" /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE "shift_events" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070742' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting CreateShiftAssignments (20251022070734)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_vehicle_id_and_start_time" /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_driver_id_and_start_time" /*application='Backend'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_start_time" /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_status" /*application='Backend'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_city" /*application='Backend'*/[0m
  [1m[35m (8.5ms)[0m  [1m[35mDROP TABLE "shift_assignments" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070734' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting CreateVehicles (20251022070730)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP INDEX  "index_vehicles_on_telematics_source" /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP INDEX  "index_vehicles_on_plate" /*application='Backend'*/[0m
  [1m[35m (4.6ms)[0m  [1m[35mDROP TABLE "vehicles" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070730' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting CreateDrivers (20251022070726)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_drivers_on_verified" /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_drivers_on_email" /*application='Backend'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mDROP TABLE "drivers" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070726' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to CreateDrivers (20251022070726)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "full_name" character varying NOT NULL, "dob" date NOT NULL, "email" character varying NOT NULL, "phone_number" character varying NOT NULL, "verified" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_drivers_on_email" ON "drivers" ("email") /*application='Backend'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_drivers_on_phone_number" ON "drivers" ("phone_number") /*application='Backend'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_drivers_on_verified" ON "drivers" ("verified") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070726') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateVehicles (20251022070730)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "license_plate" character varying NOT NULL, "model" character varying NOT NULL, "year_of_manufacture" integer NOT NULL, "latest_odometer" integer DEFAULT 0 NOT NULL, "latest_range" integer DEFAULT 0 NOT NULL, "telematics_source" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_vehicles_on_license_plate" ON "vehicles" ("license_plate") /*application='Backend'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_vehicles_on_telematics_source" ON "vehicles" ("telematics_source") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070730') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateShiftAssignments (20251022070734)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "shift_assignments" ("id" bigserial primary key, "city" integer NOT NULL, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "start_time" timestamp(6) NOT NULL, "end_time" timestamp(6) NOT NULL, "recurrence_rule" character varying, "status" integer DEFAULT 0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ec87f288c0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_d42245fd86"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_driver_id" ON "shift_assignments" ("driver_id") /*application='Backend'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_vehicle_id" ON "shift_assignments" ("vehicle_id") /*application='Backend'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_city" ON "shift_assignments" ("city") /*application='Backend'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_status" ON "shift_assignments" ("status") /*application='Backend'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_start_time" ON "shift_assignments" ("start_time") /*application='Backend'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_driver_id_and_start_time" ON "shift_assignments" ("driver_id", "start_time") /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_vehicle_id_and_start_time" ON "shift_assignments" ("vehicle_id", "start_time") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070734') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateShiftEvents (20251022070742)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "shift_events" ("id" bigserial primary key, "shift_assignment_id" bigint NOT NULL, "event_type" integer NOT NULL, "odometer" integer, "vehicle_range" integer, "gps_lat" decimal(10,6), "gps_lon" decimal(10,6), "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_384f0e60f2"
FOREIGN KEY ("shift_assignment_id")
  REFERENCES "shift_assignments" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_shift_assignment_id" ON "shift_events" ("shift_assignment_id") /*application='Backend'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_event_type" ON "shift_events" ("event_type") /*application='Backend'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_timestamp" ON "shift_events" ("timestamp") /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to CreateShiftEvents (20251022070742)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "shift_events" ("id" bigserial primary key, "shift_assignment_id" bigint NOT NULL, "event_type" integer NOT NULL, "odometer" integer, "vehicle_range" integer, "gps_lat" decimal(10,6), "gps_lon" decimal(10,6), "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_384f0e60f2"
FOREIGN KEY ("shift_assignment_id")
  REFERENCES "shift_assignments" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_shift_assignment_id" ON "shift_events" ("shift_assignment_id") /*application='Backend'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_event_type" ON "shift_events" ("event_type") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070742') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateRevenueRecords (20251022070755)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "revenue_records" ("id" bigserial primary key, "shift_assignment_id" bigint NOT NULL, "driver_id" bigint NOT NULL, "total_revenue" decimal(10,2) DEFAULT 0.0 NOT NULL, "total_profit" decimal(10,2) DEFAULT 0.0 NOT NULL, "reconciled" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d9189ba84e"
FOREIGN KEY ("shift_assignment_id")
  REFERENCES "shift_assignments" ("id")
, CONSTRAINT "fk_rails_ec4a4fb8b7"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_shift_assignment_id" ON "revenue_records" ("shift_assignment_id") /*application='Backend'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_driver_id" ON "revenue_records" ("driver_id") /*application='Backend'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_reconciled" ON "revenue_records" ("reconciled") /*application='Backend'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_driver_id_and_created_at" ON "revenue_records" ("driver_id", "created_at") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070755') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateExpenses (20251022070803)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "expenses" ("id" bigserial primary key, "driver_id" bigint, "vehicle_id" bigint, "amount" decimal(10,2) NOT NULL, "category" character varying NOT NULL, "date" date NOT NULL, "receipt_key" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a16bd53b9b"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_de942b3df2"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_driver_id" ON "expenses" ("driver_id") /*application='Backend'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_vehicle_id" ON "expenses" ("vehicle_id") /*application='Backend'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_category" ON "expenses" ("category") /*application='Backend'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_date" ON "expenses" ("date") /*application='Backend'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_driver_id_and_date" ON "expenses" ("driver_id", "date") /*application='Backend'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_vehicle_id_and_date" ON "expenses" ("vehicle_id", "date") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (3.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070803') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateChargingStations (20251022070811)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "charging_stations" ("id" bigserial primary key, "name" character varying NOT NULL, "location_lat" decimal(10,6) NOT NULL, "location_lon" decimal(10,6) NOT NULL, "connectors" json DEFAULT '[]' NOT NULL, "status" integer DEFAULT 0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_charging_stations_on_status" ON "charging_stations" ("status") /*application='Backend'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_charging_stations_on_location_lat_and_location_lon" ON "charging_stations" ("location_lat", "location_lon") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070811') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (6.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting CreateChargingStations (20251022070811)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mDROP INDEX  "index_charging_stations_on_location_lat_and_location_lon" /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_charging_stations_on_status" /*application='Backend'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "charging_stations" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070811' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Reverting CreateExpenses (20251022070803)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_expenses_on_vehicle_id_and_date" /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_expenses_on_driver_id_and_date" /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_expenses_on_date" /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_expenses_on_category" /*application='Backend'*/[0m
  [1m[35m (4.3ms)[0m  [1m[35mDROP TABLE "expenses" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070803' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Reverting CreateRevenueRecords (20251022070755)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_revenue_records_on_driver_id_and_created_at" /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_revenue_records_on_reconciled" /*application='Backend'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mDROP TABLE "revenue_records" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070755' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Reverting CreateShiftEvents (20251022070742)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_shift_events_on_event_type" /*application='Backend'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "shift_events" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070742' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Reverting CreateShiftAssignments (20251022070734)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_vehicle_id_and_start_time" /*application='Backend'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_driver_id_and_start_time" /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_start_time" /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_status" /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_shift_assignments_on_city" /*application='Backend'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "shift_assignments" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070734' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Reverting CreateVehicles (20251022070730)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_vehicles_on_telematics_source" /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_vehicles_on_license_plate" /*application='Backend'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "vehicles" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070730' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Reverting CreateDrivers (20251022070726)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_drivers_on_verified" /*application='Backend'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_drivers_on_phone_number" /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_drivers_on_email" /*application='Backend'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "drivers" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251022070726' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to CreateDrivers (20251022070726)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "full_name" character varying NOT NULL, "dob" date NOT NULL, "email" character varying NOT NULL, "phone_number" character varying NOT NULL, "verified" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_drivers_on_email" ON "drivers" ("email") /*application='Backend'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_drivers_on_phone_number" ON "drivers" ("phone_number") /*application='Backend'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_drivers_on_verified" ON "drivers" ("verified") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070726') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateVehicles (20251022070730)
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "license_plate" character varying NOT NULL, "model" character varying NOT NULL, "year_of_manufacture" integer NOT NULL, "latest_odometer" integer DEFAULT 0 NOT NULL, "latest_range" integer DEFAULT 0 NOT NULL, "telematics_source" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_vehicles_on_license_plate" ON "vehicles" ("license_plate") /*application='Backend'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_vehicles_on_telematics_source" ON "vehicles" ("telematics_source") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070730') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateShiftAssignments (20251022070734)
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "shift_assignments" ("id" bigserial primary key, "city" integer NOT NULL, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "start_time" timestamp(6) NOT NULL, "end_time" timestamp(6) NOT NULL, "recurrence_rule" character varying, "status" integer DEFAULT 0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ec87f288c0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_d42245fd86"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
) /*application='Backend'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_driver_id" ON "shift_assignments" ("driver_id") /*application='Backend'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_vehicle_id" ON "shift_assignments" ("vehicle_id") /*application='Backend'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_city" ON "shift_assignments" ("city") /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_status" ON "shift_assignments" ("status") /*application='Backend'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_start_time" ON "shift_assignments" ("start_time") /*application='Backend'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_driver_id_and_start_time" ON "shift_assignments" ("driver_id", "start_time") /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_shift_assignments_on_vehicle_id_and_start_time" ON "shift_assignments" ("vehicle_id", "start_time") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070734') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateShiftEvents (20251022070742)
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "shift_events" ("id" bigserial primary key, "shift_assignment_id" bigint NOT NULL, "event_type" integer NOT NULL, "odometer" integer, "vehicle_range" integer, "gps_lat" decimal(10,6), "gps_lon" decimal(10,6), "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_384f0e60f2"
FOREIGN KEY ("shift_assignment_id")
  REFERENCES "shift_assignments" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_shift_assignment_id" ON "shift_events" ("shift_assignment_id") /*application='Backend'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_shift_events_on_event_type" ON "shift_events" ("event_type") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070742') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateRevenueRecords (20251022070755)
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "revenue_records" ("id" bigserial primary key, "shift_assignment_id" bigint NOT NULL, "driver_id" bigint NOT NULL, "total_revenue" decimal(10,2) DEFAULT 0.0 NOT NULL, "total_profit" decimal(10,2) DEFAULT 0.0 NOT NULL, "reconciled" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d9189ba84e"
FOREIGN KEY ("shift_assignment_id")
  REFERENCES "shift_assignments" ("id")
, CONSTRAINT "fk_rails_ec4a4fb8b7"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
) /*application='Backend'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_shift_assignment_id" ON "revenue_records" ("shift_assignment_id") /*application='Backend'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_driver_id" ON "revenue_records" ("driver_id") /*application='Backend'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_reconciled" ON "revenue_records" ("reconciled") /*application='Backend'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_revenue_records_on_driver_id_and_created_at" ON "revenue_records" ("driver_id", "created_at") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070755') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateExpenses (20251022070803)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "expenses" ("id" bigserial primary key, "driver_id" bigint, "vehicle_id" bigint, "amount" decimal(10,2) NOT NULL, "category" character varying NOT NULL, "date" date NOT NULL, "receipt_key" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a16bd53b9b"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_de942b3df2"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
) /*application='Backend'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_driver_id" ON "expenses" ("driver_id") /*application='Backend'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_vehicle_id" ON "expenses" ("vehicle_id") /*application='Backend'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_category" ON "expenses" ("category") /*application='Backend'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_date" ON "expenses" ("date") /*application='Backend'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_driver_id_and_date" ON "expenses" ("driver_id", "date") /*application='Backend'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_expenses_on_vehicle_id_and_date" ON "expenses" ("vehicle_id", "date") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070803') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to CreateChargingStations (20251022070811)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "charging_stations" ("id" bigserial primary key, "name" character varying NOT NULL, "location_lat" decimal(10,6) NOT NULL, "location_lon" decimal(10,6) NOT NULL, "connectors" json DEFAULT '[]' NOT NULL, "status" integer DEFAULT 0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_charging_stations_on_status" ON "charging_stations" ("status") /*application='Backend'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_charging_stations_on_location_lat_and_location_lon" ON "charging_stations" ("location_lat", "location_lon") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022070811') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to CreateUsers (20251022075911)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "google_id" character varying NOT NULL, "avatar_url" character varying, "provider" character varying DEFAULT 'google_oauth2' NOT NULL, "uid" character varying NOT NULL, "last_sign_in_at" timestamp(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Backend'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Backend'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_google_id" ON "users" ("google_id") /*application='Backend'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid") /*application='Backend'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_provider_and_uid" ON "users" ("provider", "uid") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022075911') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Migrating to AddUserIdToDrivers (20251022075933)
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "drivers" ADD "user_id" bigint /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_drivers_on_user_id" ON "drivers" ("user_id") /*application='Backend'*/[0m
  [1m[35m (8.1ms)[0m  [1m[35mALTER TABLE "drivers" ADD CONSTRAINT "fk_rails_2492e1bc43"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
 /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022075933') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Interface `Node` hidden because it has no visible implementers
Interface `Node` hidden because it has no visible implementers
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*application='Backend'*/[0m
  ↳ app/lib/app_global_id.rb:21:in `record_from_global_id'
Interface `Node` hidden because it has no visible implementers
Interface `Node` hidden because it has no visible implementers
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to RemoveGoogleFieldsFromUsers (20251022094901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX  "index_users_on_google_id" /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_uid" /*application='Backend'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_users_on_provider_and_uid" /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "google_id" /*application='Backend'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "provider" /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "uid" /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "avatar_url" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022094901') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Interface `Node` hidden because it has no visible implementers
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to AddDeviseToUsers (20251022095842)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "sign_in_count" integer DEFAULT 0 NOT NULL /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to AddDeviseToUsers (20251022095842)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL /*application='Backend'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "current_sign_in_at" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "current_sign_in_ip" character varying /*application='Backend'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD "last_sign_in_ip" character varying /*application='Backend'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_token" character varying /*application='Backend'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmed_at" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_sent_at" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "unconfirmed_email" character varying /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "failed_attempts" integer DEFAULT 0 NOT NULL /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "unlock_token" character varying /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "locked_at" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Backend'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token") /*application='Backend'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022095842') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Exists? (8.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "first_name", "last_name", "last_sign_in_at", "sign_in_count", "created_at", "updated_at", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "current_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at") VALUES ('test@example.com', 'Test', 'User', NULL, 0, '2025-10-22 10:01:02.907095', '2025-10-22 10:01:02.907095', '$2a$12$wy7HpJR636a0dzEeE0ub.eRzAfKjwqrqCdir0JwpHdtuyQChkyk72', NULL, NULL, NULL, NULL, NULL, NULL, 'ysmz7Bohac5NZCy-yM6R', NULL, '2025-10-22 10:01:02.907185', NULL, 0, NULL, NULL) RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Devise::Mailer#confirmation_instructions: processed outbound mail in 10.6ms
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Update (3.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = '2025-10-22 10:01:38.125153', "encrypted_password" = '$2a$12$Kn7wHb05O9AwF5uV9XyD2e6zns8D4Yaf8KykLZRHtnEqU4El1ehYG' WHERE "users"."id" = 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = '2025-10-22 10:01:38.131534', "confirmed_at" = '2025-10-22 10:01:38.131337' WHERE "users"."id" = 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Started POST "/graphql" for ::1 at 2025-10-22 12:01:51 +0200
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation { createSession(input: { email: \"test@example.com\", password: \"password123\", loginScope: \"user\" }) { user { email firstName lastName } tokens { accessToken refreshToken } expiresAt } }", "graphql"=>{"query"=>"mutation { createSession(input: { email: \"test@example.com\", password: \"password123\", loginScope: \"user\" }) { user { email firstName lastName } tokens { accessToken refreshToken } expiresAt } }"}}
uninitialized constant GraphqlController::BackendSchema
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/controllers/graphql_controller.rb:18:in `execute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/basic_implicit_render.rb:8:in `send_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:215:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rendering.rb:193:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:261:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:260:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rescue.rb:27:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `block in instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:75:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/railties/controller_runtime.rb:39:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:152:in `process'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:252:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:335:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:50:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:53:in `block in serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:34:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:908:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine/lazy_route_set.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/etag.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/conditional_get.rb:44:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/head.rb:15:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/migration.rb:670:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:30:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:41:in `call_app'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/request_id.rb:34:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/runtime.rb:24:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/static.rb:27:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/sendfile.rb:131:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine.rb:535:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/configuration.rb:300:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:101:in `block in handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:355:in `with_force_shutdown'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:100:in `handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:503:in `process_client'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:262:in `block in run'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:182:in `block in spawn_thread'
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for ::1 at 2025-10-22 12:01:59 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{ __schema { types { name } } }", "graphql"=>{"query"=>"{ __schema { types { name } } }"}}
uninitialized constant GraphqlController::BackendSchema
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/controllers/graphql_controller.rb:18:in `execute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/basic_implicit_render.rb:8:in `send_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:215:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rendering.rb:193:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:261:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:260:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rescue.rb:27:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `block in instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:75:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/railties/controller_runtime.rb:39:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:152:in `process'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:252:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:335:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:50:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:53:in `block in serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:34:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:908:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine/lazy_route_set.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/etag.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/conditional_get.rb:44:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/head.rb:15:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/migration.rb:670:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:30:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:41:in `call_app'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/request_id.rb:34:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/runtime.rb:24:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/static.rb:27:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/sendfile.rb:131:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine.rb:535:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/configuration.rb:300:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:101:in `block in handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:355:in `with_force_shutdown'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:100:in `handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:503:in `process_client'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:262:in `block in run'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:182:in `block in spawn_thread'
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for ::1 at 2025-10-22 12:02:27 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation { createSession(input: { email: \"test@example.com\", password: \"password123\", loginScope: \"user\" }) { user { email firstName lastName } tokens { accessToken refreshToken } expiresAt } }", "graphql"=>{"query"=>"mutation { createSession(input: { email: \"test@example.com\", password: \"password123\", loginScope: \"user\" }) { user { email firstName lastName } tokens { accessToken refreshToken } expiresAt } }"}}
uninitialized constant GraphqlController::BackendSchema
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/controllers/graphql_controller.rb:18:in `execute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/basic_implicit_render.rb:8:in `send_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:215:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rendering.rb:193:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:261:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:260:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rescue.rb:27:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `block in instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:75:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/railties/controller_runtime.rb:39:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:152:in `process'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:252:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:335:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:50:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:53:in `block in serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:34:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:908:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine/lazy_route_set.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/etag.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/conditional_get.rb:44:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/head.rb:15:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/migration.rb:670:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:30:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:41:in `call_app'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/request_id.rb:34:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/runtime.rb:24:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/static.rb:27:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/sendfile.rb:131:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine.rb:535:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/configuration.rb:300:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:101:in `block in handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:355:in `with_force_shutdown'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:100:in `handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:503:in `process_client'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:262:in `block in run'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:182:in `block in spawn_thread'
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for ::1 at 2025-10-22 12:02:33 +0200
  
NameError (uninitialized constant GraphQL):
  
app/graphql/backend_schema.rb:3:in `<main>'
app/controllers/graphql_controller.rb:3:in `require_relative'
app/controllers/graphql_controller.rb:3:in `<main>'
Started POST "/graphql" for ::1 at 2025-10-22 12:09:31 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation { createSession(input: { email: \"test@example.com\", password: \"password123\", loginScope: \"user\" }) { user { email firstName lastName isConfirmed status } tokens { accessToken refreshToken } expiresAt } }", "graphql"=>{"query"=>"mutation { createSession(input: { email: \"test@example.com\", password: \"password123\", loginScope: \"user\" }) { user { email firstName lastName isConfirmed status } tokens { accessToken refreshToken } expiresAt } }"}}
uninitialized constant GraphqlController::BackendSchema
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/controllers/graphql_controller.rb:18:in `execute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/basic_implicit_render.rb:8:in `send_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:215:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rendering.rb:193:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:261:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:260:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rescue.rb:27:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `block in instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:75:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/railties/controller_runtime.rb:39:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:152:in `process'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:252:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:335:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:50:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:53:in `block in serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:34:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:908:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine/lazy_route_set.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/etag.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/conditional_get.rb:44:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/head.rb:15:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/migration.rb:670:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:30:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:41:in `call_app'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/request_id.rb:34:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/runtime.rb:24:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/static.rb:27:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/sendfile.rb:131:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine.rb:535:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/configuration.rb:300:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:101:in `block in handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:355:in `with_force_shutdown'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:100:in `handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:503:in `process_client'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:262:in `block in run'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:182:in `block in spawn_thread'
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Interface `Node` hidden because it has no visible implementers
Interface `Node` hidden because it has no visible implementers
Started POST "/graphql" for ::1 at 2025-10-22 12:59:44 +0200
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
undefined local variable or method `current_user' for #<GraphqlController:0x0000000000ac80>
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine/lazy_route_set.rb:96:in `method_missing'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/controllers/graphql_controller.rb:15:in `execute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/basic_implicit_render.rb:8:in `send_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:215:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rendering.rb:193:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:261:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/callbacks.rb:260:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/rescue.rb:27:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `block in instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/notifications.rb:210:in `instrument'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/instrumentation.rb:75:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/railties/controller_runtime.rb:39:in `process_action'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/abstract_controller/base.rb:152:in `process'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:252:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_controller/metal.rb:335:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:50:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:53:in `block in serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:126:in `find_routes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/journey/router.rb:34:in `serve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/routing/route_set.rb:908:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine/lazy_route_set.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/etag.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/conditional_get.rb:44:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/head.rb:15:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/migration.rb:670:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/callbacks.rb:100:in `run_callbacks'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/callbacks.rb:30:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:41:in `call_app'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/rack/logger.rb:29:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/request_id.rb:34:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/runtime.rb:24:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/executor.rb:16:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/static.rb:27:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.2.3/lib/rack/sendfile.rb:131:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-8.0.3/lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-8.0.3/lib/rails/engine.rb:535:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/configuration.rb:300:in `call'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:101:in `block in handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:355:in `with_force_shutdown'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/request.rb:100:in `handle_request'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:503:in `process_client'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/server.rb:262:in `block in run'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:182:in `block in spawn_thread'
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for ::1 at 2025-10-22 13:06:21 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Interface `Node` hidden because it has no visible implementers
Completed 200 OK in 110ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 14.9ms)


Started POST "/graphql" for ::1 at 2025-10-22 13:08:18 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Interface `Node` hidden because it has no visible implementers
Completed 200 OK in 28ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.7ms)


Started POST "/graphql" for ::1 at 2025-10-22 13:16:28 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Interface `Node` hidden because it has no visible implementers
Completed 200 OK in 53ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 27.9ms)


Started POST "/graphql" for ::1 at 2025-10-22 13:25:53 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Interface `Node` hidden because it has no visible implementers
Completed 200 OK in 28ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.9ms)


Started OPTIONS "/graphql" for 127.0.0.1 at 2025-10-22 17:42:45 +0200
  
ActionController::RoutingError (No route matches [OPTIONS] "/graphql"):
  
Started OPTIONS "/graphql" for 127.0.0.1 at 2025-10-22 17:42:58 +0200
  
ActionController::RoutingError (No route matches [OPTIONS] "/graphql"):
  
Started OPTIONS "/graphql" for 127.0.0.1 at 2025-10-22 17:44:24 +0200
  
ActionController::RoutingError (No route matches [OPTIONS] "/graphql"):
  
Started POST "/graphql" for 127.0.0.1 at 2025-10-22 17:46:00 +0200
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Invalid email or password
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/create_session.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 165ms (Views: 0.2ms | ActiveRecord: 27.4ms (1 query, 0 cached) | GC: 11.1ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-22 17:48:22 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Invalid email or password
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/create_session.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 11.6ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-22 17:49:22 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Invalid email or password
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/create_session.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-22 17:49:59 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Invalid email or password
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/create_session.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 3.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-22 17:51:14 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Invalid email or password
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/create_session.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-22 18:00:09 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-22 18:08:11 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Invalid email or password
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/create_session.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 13.0ms (1 query, 0 cached) | GC: 0.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-22 18:13:15 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Invalid email or password
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/create_session.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.4ms (1 query, 0 cached) | GC: 0.3ms)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "first_name", "last_name", "last_sign_in_at", "sign_in_count", "created_at", "updated_at", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "current_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at") VALUES ('kyonkopa@gmail.com', 'Kwasi', 'Yonkopa', NULL, 0, '2025-10-22 16:15:22.764658', '2025-10-22 16:15:22.764658', '$2a$12$RZA.GdySuWKByw5gIZQgH./Pt0WlIgyn0NK9CRlV1X/uC3TNtfxZW', NULL, NULL, NULL, NULL, NULL, NULL, 'L6W-LmXhyw1ghD33AxwH', NULL, '2025-10-22 16:15:22.764757', NULL, 0, NULL, NULL) RETURNING "id" /*application='Backend'*/[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = '2025-10-22 16:15:22.767263', "confirmed_at" = '2025-10-22 16:15:22.767170' WHERE "users"."id" = 2 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Started POST "/graphql" for 127.0.0.1 at 2025-10-22 18:16:07 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "last_sign_in_at" = '2025-10-22 16:16:07.612530', "sign_in_count" = 1, "updated_at" = '2025-10-22 16:16:07.612817' WHERE "users"."id" = 2 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/models/user.rb:23:in `update_sign_in_info!'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Completed 200 OK in 370ms (Views: 0.1ms | ActiveRecord: 4.2ms (2 queries, 0 cached) | GC: 2.2ms)


  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
Interface `Node` hidden because it has no visible implementers
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (2.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mDriver Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."email" = 'driver@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."phone_number" = '1234567890' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Create (3.4ms)[0m  [1m[32mINSERT INTO "drivers" ("full_name", "dob", "email", "phone_number", "verified", "created_at", "updated_at", "user_id") VALUES ('Test Driver', '2000-10-22', 'driver@example.com', '1234567890', FALSE, '2025-10-22 16:47:36.023633', '2025-10-22 16:47:36.023633', 1) RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'ABC123' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.6ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at") VALUES ('ABC123', 'Test Model', 2020, 10000, 300, 0, '2025-10-22 16:47:36.042371', '2025-10-22 16:47:36.042371') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (23.0ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 1, '2025-10-22 17:47:36.045991', '2025-10-23 01:47:36.046009', NULL, 0, '2025-10-22 16:47:36.054383', '2025-10-22 16:47:36.054383') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:13:in `execute'
  [1m[36mShiftAssignment Load (36.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:13:in `execute'
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:50:in `can_clock_into_shift?'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:50:in `can_clock_into_shift?'
  [1m[36mShiftEvent Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 1 AND "shift_events"."event_type" = 0 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:54:in `already_clocked_in?'
  [1m[36mShiftEvent Create (1.1ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (1, 0, NULL, NULL, NULL, NULL, NULL, '2025-10-22 16:49:01.606297', '2025-10-22 16:49:01.606297') RETURNING "id" /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:33:in `execute'
  [1m[36mShiftAssignment Update (0.8ms)[0m  [1m[33mUPDATE "shift_assignments" SET "status" = 1, "updated_at" = '2025-10-22 16:49:01.608568' WHERE "shift_assignments"."id" = 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:42:in `execute'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mShiftAssignment Load (1.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:13:in `execute'
  [1m[36mShiftAssignment Load (1.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:13:in `execute'
  [1m[36mDriver Load (1.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:50:in `can_clock_into_shift?'
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:50:in `can_clock_into_shift?'
  [1m[36mShiftEvent Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 1 AND "shift_events"."event_type" = 0 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:54:in `already_clocked_in?'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Already clocked in to this shift
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:29:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
  [1m[36mShiftAssignment Load (0.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY "vehicles"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (24.5ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 1, '2025-10-22 17:49:23.442456', '2025-10-23 01:49:23.442509', NULL, 0, '2025-10-22 16:49:23.453116', '2025-10-22 16:49:23.453116') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:13:in `execute'
  [1m[36mShiftAssignment Load (1.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 2 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:13:in `execute'
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:50:in `can_clock_into_shift?'
  [1m[36mShiftEvent Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 2 AND "shift_events"."event_type" = 0 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:54:in `already_clocked_in?'
  [1m[36mShiftEvent Create (0.7ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (2, 0, NULL, NULL, NULL, NULL, NULL, '2025-10-22 16:49:23.569923', '2025-10-22 16:49:23.569923') RETURNING "id" /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:33:in `execute'
  [1m[36mShiftAssignment Update (1.4ms)[0m  [1m[33mUPDATE "shift_assignments" SET "status" = 1, "updated_at" = '2025-10-22 16:49:23.571848' WHERE "shift_assignments"."id" = 2 /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:42:in `execute'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend',current_graphql_field='Mutation.clockIn'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mShiftAssignment Load (1.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 2 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mShiftEvent Count (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 2 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
Started POST "/graphql" for ::1 at 2025-10-22 19:15:15 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Interface `Node` hidden because it has no visible implementers
Completed 200 OK in 101ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 42.8ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-22 19:20:05 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:15:in `execute'
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:15:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: NoMethodError - undefined method `shift_assignments' for nil:NilClass
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:15:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 62ms (Views: 0.1ms | ActiveRecord: 19.7ms (2 queries, 0 cached) | GC: 2.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-22 19:21:27 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - You do not have a driver profile
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:12:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 66ms (Views: 0.1ms | ActiveRecord: 37.5ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to AddDeletedAtToUsers (20251023092324)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "users" ADD "deleted_at" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_deleted_at" ON "users" ("deleted_at") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251023092324') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to RemoveEmailFromDrivers (20251023115935)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "drivers" DROP COLUMN "email" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251023115935') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to ChangeUserIdToNotNullInDrivers (20251023120856)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "drivers" ALTER COLUMN "user_id" SET NOT NULL /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251023120856') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to AddTestColumnToDrivers (20251023122134)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "drivers" ADD "test_column" character varying /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251023122134') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting AddTestColumnToDrivers (20251023122134)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "drivers" DROP COLUMN "test_column" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.9ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251023122134' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Exists? (13.0ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."phone_number" = '233241597539' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mDriver Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."phone_number" = '233241597539' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Create (0.7ms)[0m  [1m[32mINSERT INTO "drivers" ("full_name", "dob", "phone_number", "verified", "created_at", "updated_at", "user_id") VALUES ('Test User', '1994-10-09', '233241597539', FALSE, '2025-10-23 12:33:55.737122', '2025-10-23 12:33:55.737122', 1) RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL ORDER BY "users"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL ORDER BY "users"."id" ASC LIMIT 1 OFFSET 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT 1 OFFSET 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT 1 OFFSET 1 /*application='Backend'*/[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL ORDER BY "users"."id" ASC LIMIT 1 OFFSET 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mDriver Update (0.5ms)[0m  [1m[33mUPDATE "drivers" SET "updated_at" = '2025-10-23 12:34:48.049009', "user_id" = 2 WHERE "drivers"."id" = 2 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 14:35:06 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mShiftAssignment Load (2.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:17:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Shift assignment not found
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 84ms (Views: 0.1ms | ActiveRecord: 26.2ms (3 queries, 0 cached) | GC: 3.5ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to MakeVehicleIdNullableInShiftAssignments (20251023125209)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "shift_assignments" ALTER COLUMN "vehicle_id" DROP NOT NULL /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251023125209') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mDriver Load (31.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL ORDER BY "users"."id" DESC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mDriver Update (1.4ms)[0m  [1m[33mUPDATE "drivers" SET "full_name" = 'Kwasi Yonkopa', "updated_at" = '2025-10-23 12:55:38.664968' WHERE "drivers"."id" = 2 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mDriver Update (0.6ms)[0m  [1m[33mUPDATE "drivers" SET "verified" = TRUE, "updated_at" = '2025-10-23 12:59:18.409544' WHERE "drivers"."id" = 2 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftAssignment Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (18.3ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 2, NULL, '2025-10-23 08:00:00', '2025-10-23 17:00:00', NULL, 0, '2025-10-23 12:59:20.372839', '2025-10-23 12:59:20.372839') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftAssignment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-24 00:00:00' AND '2025-10-24 23:59:59.999999' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (0.6ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 2, NULL, '2025-10-24 08:00:00', '2025-10-24 17:00:00', NULL, 0, '2025-10-23 12:59:20.394247', '2025-10-23 12:59:20.394247') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftAssignment Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-25 00:00:00' AND '2025-10-25 23:59:59.999999' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (0.6ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 2, NULL, '2025-10-25 08:00:00', '2025-10-25 17:00:00', NULL, 0, '2025-10-23 12:59:20.396806', '2025-10-23 12:59:20.396806') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftAssignment Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-26 00:00:00' AND '2025-10-26 23:59:59.999999' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (0.5ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 2, NULL, '2025-10-26 08:00:00', '2025-10-26 17:00:00', NULL, 0, '2025-10-23 12:59:20.399177', '2025-10-23 12:59:20.399177') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftAssignment Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-27 00:00:00' AND '2025-10-27 23:59:59.999999' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (0.7ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 2, NULL, '2025-10-27 08:00:00', '2025-10-27 17:00:00', NULL, 0, '2025-10-23 12:59:20.402992', '2025-10-23 12:59:20.402992') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftAssignment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-28 00:00:00' AND '2025-10-28 23:59:59.999999' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (1.1ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 2, NULL, '2025-10-28 08:00:00', '2025-10-28 17:00:00', NULL, 0, '2025-10-23 12:59:20.407578', '2025-10-23 12:59:20.407578') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftAssignment Load (3.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 /* loading for pp */ LIMIT 11 /*application='Backend'*/[0m
  [1m[36mShiftAssignment Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 /*application='Backend'*/[0m
  [1m[36mShiftAssignment Load (1.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*application='Backend'*/[0m
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:11:33 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (0.9ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mShiftAssignment Load (3.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:17:in `execute'
  [1m[36mShiftEvent Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:56:in `already_clocked_in?'
  [1m[36mShiftEvent Create (2.0ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (3, 0, 8000, 89, -33.909826, 18.416874, NULL, '2025-10-23 13:11:33.845957', '2025-10-23 13:11:33.845957') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:35:in `execute'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: ActiveRecord::AssociationTypeMismatch - Vehicle(#73940) expected, got "1" which is an instance of String(#3440)
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/association.rb:345:in `raise_on_type_mismatch!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/belongs_to_association.rb:97:in `replace'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/singular_association.rb:26:in `writer'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/builder/association.rb:113:in `vehicle='
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `_assign_attribute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:17:in `block in _assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `_assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:578:in `block in update!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:417:in `block (2 levels) in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:357:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:413:in `block in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:416:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:409:in `with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:577:in `update!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:44:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 94ms (Views: 0.1ms | ActiveRecord: 27.7ms (5 queries, 0 cached) | GC: 4.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:13:55 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mShiftAssignment Load (0.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:17:in `execute'
  [1m[36mShiftEvent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:56:in `already_clocked_in?'
  [1m[36mShiftEvent Create (0.9ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (3, 0, 8000, 89, -33.909826, 18.416874, NULL, '2025-10-23 13:13:55.993632', '2025-10-23 13:13:55.993632') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:35:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: ActiveRecord::AssociationTypeMismatch - Vehicle(#73940) expected, got "1" which is an instance of String(#3440)
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/association.rb:345:in `raise_on_type_mismatch!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/belongs_to_association.rb:97:in `replace'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/singular_association.rb:26:in `writer'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/builder/association.rb:113:in `vehicle='
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `_assign_attribute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:17:in `block in _assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `_assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:578:in `block in update!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:417:in `block (2 levels) in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:357:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:413:in `block in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:416:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:409:in `with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:577:in `update!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:44:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 5.2ms (5 queries, 0 cached) | GC: 1.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:14:30 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (1.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:17:in `execute'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:56:in `already_clocked_in?'
  [1m[36mShiftEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (3, 0, 8000, 89, -33.909826, 18.416874, NULL, '2025-10-23 13:14:30.312209', '2025-10-23 13:14:30.312209') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:35:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: ActiveRecord::AssociationTypeMismatch - Vehicle(#73940) expected, got "1" which is an instance of String(#3440)
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/association.rb:345:in `raise_on_type_mismatch!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/belongs_to_association.rb:97:in `replace'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/singular_association.rb:26:in `writer'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/builder/association.rb:113:in `vehicle='
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `_assign_attribute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:17:in `block in _assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `_assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:578:in `block in update!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:417:in `block (2 levels) in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:357:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:413:in `block in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:416:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:409:in `with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:577:in `update!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:44:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 3.0ms (5 queries, 0 cached) | GC: 1.1ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:14:33 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (1.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mShiftAssignment Load (0.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:17:in `execute'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:56:in `already_clocked_in?'
  [1m[36mShiftEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (3, 0, 8000, 89, -33.909826, 18.416874, NULL, '2025-10-23 13:14:33.631798', '2025-10-23 13:14:33.631798') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:35:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: ActiveRecord::AssociationTypeMismatch - Vehicle(#73940) expected, got "1" which is an instance of String(#3440)
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/association.rb:345:in `raise_on_type_mismatch!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/belongs_to_association.rb:97:in `replace'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/singular_association.rb:26:in `writer'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/builder/association.rb:113:in `vehicle='
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `_assign_attribute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:17:in `block in _assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `_assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:578:in `block in update!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:417:in `block (2 levels) in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:357:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:413:in `block in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:416:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:409:in `with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:577:in `update!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:44:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 7.2ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:16:40 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.90982558424628, "gpsLon"=>18.416874264040498, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (24.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:17:in `execute'
  [1m[36mShiftEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:56:in `already_clocked_in?'
  [1m[36mShiftEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (3, 0, 8000, 89, -33.909826, 18.416874, NULL, '2025-10-23 13:16:40.628652', '2025-10-23 13:16:40.628652') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:35:in `execute'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: ActiveRecord::AssociationTypeMismatch - Vehicle(#73940) expected, got "1" which is an instance of String(#3440)
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/association.rb:345:in `raise_on_type_mismatch!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/belongs_to_association.rb:97:in `replace'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/singular_association.rb:26:in `writer'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/builder/association.rb:113:in `vehicle='
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `_assign_attribute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:17:in `block in _assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `_assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:578:in `block in update!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:417:in `block (2 levels) in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:357:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:413:in `block in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:416:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:409:in `with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:577:in `update!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:44:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 46ms (Views: 0.2ms | ActiveRecord: 28.7ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:17:16 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.91066322274708, "gpsLon"=>18.417399885090564, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.91066322274708, "gpsLon"=>18.417399885090564, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mShiftAssignment Load (0.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:17:in `execute'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:56:in `already_clocked_in?'
  [1m[36mShiftEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (3, 0, 8000, 89, -33.910663, 18.4174, NULL, '2025-10-23 13:17:16.563837', '2025-10-23 13:17:16.563837') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:35:in `execute'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: ActiveRecord::AssociationTypeMismatch - Vehicle(#73940) expected, got "1" which is an instance of String(#3440)
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/association.rb:345:in `raise_on_type_mismatch!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/belongs_to_association.rb:97:in `replace'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/singular_association.rb:26:in `writer'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/builder/association.rb:113:in `vehicle='
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `_assign_attribute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:17:in `block in _assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `_assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:578:in `block in update!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:417:in `block (2 levels) in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:357:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:413:in `block in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:416:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:409:in `with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:577:in `update!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:44:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 3.1ms (5 queries, 0 cached) | GC: 11.4ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:17:58 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.91066322274708, "gpsLon"=>18.417399885090564, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>8000, "vehicleRange"=>89, "gpsLat"=>-33.91066322274708, "gpsLon"=>18.417399885090564, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mVehicle Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:61:in `validate_vehicle_exists!'
  [1m[36mShiftAssignment Load (0.2ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:18:in `execute'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:57:in `already_clocked_in?'
  [1m[36mShiftEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (3, 0, 8000, 89, -33.910663, 18.4174, NULL, '2025-10-23 13:17:59.016442', '2025-10-23 13:17:59.016442') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:36:in `execute'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: ActiveRecord::AssociationTypeMismatch - Vehicle(#84200) expected, got "1" which is an instance of String(#3440)
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/association.rb:345:in `raise_on_type_mismatch!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/belongs_to_association.rb:97:in `replace'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/singular_association.rb:26:in `writer'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/associations/builder/association.rb:113:in `vehicle='
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:69:in `_assign_attribute'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:17:in `block in _assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `each'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/attribute_assignment.rb:9:in `_assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activemodel-8.0.3/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:578:in `block in update!'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:417:in `block (2 levels) in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:357:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:413:in `block in with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:416:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:409:in `with_transaction_returning_status'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/persistence.rb:577:in `update!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_in.rb:45:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 89ms (Views: 0.1ms | ActiveRecord: 38.7ms (6 queries, 0 cached) | GC: 4.7ms)


  [1m[36mVehicle Load (2.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY "vehicles"."id" ASC LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "vehicles" /*application='Backend'*/[0m
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:30:46 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>2000, "vehicleRange"=>20, "gpsLat"=>-33.91028593354657, "gpsLon"=>18.417299268285124, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockInMutation", "variables"=>{"input"=>{"odometer"=>2000, "vehicleRange"=>20, "gpsLat"=>-33.91028593354657, "gpsLon"=>18.417299268285124, "vehicleId"=>"1"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockInMutation($input: ClockInInput!) {\n  clockIn(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mDriver Load (3.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:12:in `execute'
  [1m[36mVehicle Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:61:in `validate_vehicle_exists!'
  [1m[36mShiftAssignment Load (2.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 0 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:18:in `execute'
  [1m[36mShiftEvent Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:57:in `already_clocked_in?'
  [1m[36mShiftEvent Create (4.8ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (3, 0, 2000, 20, -33.910286, 18.417299, NULL, '2025-10-23 13:30:46.246991', '2025-10-23 13:30:46.246991') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:36:in `execute'
  [1m[36mShiftAssignment Update (0.7ms)[0m  [1m[33mUPDATE "shift_assignments" SET "vehicle_id" = 1, "status" = 1, "updated_at" = '2025-10-23 13:30:46.258888' WHERE "shift_assignments"."id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/clock_in.rb:45:in `execute'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockIn',current_graphql_operation='ClockInMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='ClockInMutation'*/[0m
Completed 200 OK in 138ms (Views: 0.1ms | ActiveRecord: 30.7ms (8 queries, 0 cached) | GC: 39.6ms)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Exists? (6.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'TEST1761226507' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.5ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at") VALUES ('TEST1761226507', 'Test Model', 2020, 1000, 200, 0, '2025-10-23 13:35:07.933261', '2025-10-23 13:35:07.933261') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (3.3ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 2, '2025-10-23 12:35:07.937804', '2025-10-23 20:35:07.937818', NULL, 1, '2025-10-23 13:35:07.959868', '2025-10-23 13:35:07.959868') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (1.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Query.currentShift'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 1 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*application='Backend',current_graphql_field='Query.currentShift'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='ShiftAssignment.vehicle'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'noshift1761226520@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "first_name", "last_name", "last_sign_in_at", "sign_in_count", "created_at", "updated_at", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "current_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "deleted_at") VALUES ('noshift1761226520@example.com', 'No', 'Shift', NULL, 0, '2025-10-23 13:35:20.800984', '2025-10-23 13:35:20.800984', '$2a$12$hCyPOuXII5BEllRbECQJk.2BxY7BOhApxvoeOsTeslq783McmQDdK', NULL, NULL, NULL, NULL, NULL, NULL, 'zTyk6iHfHWLV4CKoY8Z4', NULL, '2025-10-23 13:35:20.801079', NULL, 0, NULL, NULL, NULL) RETURNING "id" /*application='Backend'*/[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = '2025-10-23 13:35:20.804130', "confirmed_at" = '2025-10-23 13:35:20.804049' WHERE "users"."id" = 3 /*application='Backend'*/[0m
  ↳ app/models/user.rb:86:in `confirm_user'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mDriver Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."phone_number" = '+1761226520' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Create (0.5ms)[0m  [1m[32mINSERT INTO "drivers" ("full_name", "dob", "phone_number", "verified", "created_at", "updated_at", "user_id") VALUES ('No Shift Driver', '1990-01-01', '+1761226520', TRUE, '2025-10-23 13:35:20.826238', '2025-10-23 13:35:20.826238', 3) RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftAssignment Load (2.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 3 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*application='Backend',current_graphql_field='Query.currentShift'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Started POST "/graphql" for ::1 at 2025-10-23 15:38:38 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 57ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 5.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:39:31 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (1.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 77ms (Views: 0.1ms | ActiveRecord: 16.3ms (5 queries, 0 cached) | GC: 7.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 15:42:05 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (12.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.4ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 47ms (Views: 0.2ms | ActiveRecord: 15.4ms (5 queries, 0 cached) | GC: 1.5ms)


  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mUser Exists? (3.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'TEST1761227304' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (1.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at") VALUES ('TEST1761227304', 'Test Model', 2020, 1000, 200, 0, '2025-10-23 13:48:24.234609', '2025-10-23 13:48:24.234609') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (2.4ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 3, '2025-10-23 12:48:24.239951', '2025-10-23 20:48:24.239983', NULL, 1, '2025-10-23 13:48:24.246879', '2025-10-23 13:48:24.246879') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftEvent Create (2.8ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (10, 0, 50000, 300, NULL, NULL, NULL, '2025-10-23 13:48:24.262958', '2025-10-23 13:48:24.262958') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (1.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'TEST1761227313' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.4ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at") VALUES ('TEST1761227313', 'Test Model', 2020, 1000, 200, 0, '2025-10-23 13:48:33.127506', '2025-10-23 13:48:33.127506') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (2.0ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 4, '2025-10-23 12:48:33.132377', '2025-10-23 20:48:33.132393', NULL, 1, '2025-10-23 13:48:33.142968', '2025-10-23 13:48:33.142968') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftEvent Create (1.7ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (11, 0, 50000, 300, NULL, NULL, NULL, '2025-10-23 13:48:33.156924', '2025-10-23 13:48:33.156924') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mShiftAssignment Load (0.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 11 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mDriver Load (1.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:57:in `can_clock_out_of_shift?'
  [1m[36mShiftEvent Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 11 AND "shift_events"."event_type" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:61:in `already_clocked_out?'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 11 AND "shift_events"."event_type" = 0 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:65:in `clocked_in?'
  [1m[36mShiftEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (11, 1, 51000, 250, NULL, NULL, NULL, '2025-10-23 13:48:33.285009', '2025-10-23 13:48:33.285009') RETURNING "id" /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:40:in `execute'
  [1m[36mShiftAssignment Update (0.4ms)[0m  [1m[33mUPDATE "shift_assignments" SET "status" = 2, "updated_at" = '2025-10-23 13:48:33.286376' WHERE "shift_assignments"."id" = 11 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:49:in `execute'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'TEST1761227331' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at") VALUES ('TEST1761227331', 'Test Model', 2020, 1000, 200, 0, '2025-10-23 13:48:51.752380', '2025-10-23 13:48:51.752380') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (1.9ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 5, '2025-10-23 12:48:51.756771', '2025-10-23 20:48:51.756788', NULL, 1, '2025-10-23 13:48:51.766144', '2025-10-23 13:48:51.766144') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftEvent Create (2.0ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (12, 0, 50000, 300, NULL, NULL, NULL, '2025-10-23 13:48:51.783013', '2025-10-23 13:48:51.783013') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftEvent Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 12 /*application='Backend'*/[0m
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 12 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mShiftAssignment Load (1.2ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 12 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:57:in `can_clock_out_of_shift?'
  [1m[36mShiftEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 12 AND "shift_events"."event_type" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:61:in `already_clocked_out?'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 12 AND "shift_events"."event_type" = 0 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:65:in `clocked_in?'
  [1m[36mShiftEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (12, 1, 51000, 250, NULL, NULL, NULL, '2025-10-23 13:48:51.905846', '2025-10-23 13:48:51.905846') RETURNING "id" /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:40:in `execute'
  [1m[36mShiftAssignment Update (0.3ms)[0m  [1m[33mUPDATE "shift_assignments" SET "status" = 2, "updated_at" = '2025-10-23 13:48:51.907124' WHERE "shift_assignments"."id" = 12 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:49:in `execute'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mShiftAssignment Load (0.2ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 12 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mShiftEvent Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 12 /*application='Backend'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 12 /*application='Backend'*/[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'TEST1761227345' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.5ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at") VALUES ('TEST1761227345', 'Test Model', 2020, 1000, 200, 0, '2025-10-23 13:49:05.708908', '2025-10-23 13:49:05.708908') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (2.3ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 6, '2025-10-23 12:49:05.713807', '2025-10-23 20:49:05.713825', NULL, 1, '2025-10-23 13:49:05.726807', '2025-10-23 13:49:05.726807') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftEvent Create (3.0ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (13, 0, 50000, 300, NULL, NULL, NULL, '2025-10-23 13:49:05.741769', '2025-10-23 13:49:05.741769') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftEvent Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 13 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mShiftAssignment Load (1.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 13 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mDriver Load (2.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:57:in `can_clock_out_of_shift?'
  [1m[36mShiftEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 13 AND "shift_events"."event_type" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:61:in `already_clocked_out?'
  [1m[36mShiftEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 13 AND "shift_events"."event_type" = 0 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:65:in `clocked_in?'
  [1m[36mShiftEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (13, 1, 51000, 250, NULL, NULL, NULL, '2025-10-23 13:49:05.850431', '2025-10-23 13:49:05.850431') RETURNING "id" /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:40:in `execute'
  [1m[36mShiftAssignment Update (0.3ms)[0m  [1m[33mUPDATE "shift_assignments" SET "status" = 2, "updated_at" = '2025-10-23 13:49:05.851578' WHERE "shift_assignments"."id" = 13 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:49:in `execute'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'TEST1761227358' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.6ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at") VALUES ('TEST1761227358', 'Test Model', 2020, 1000, 200, 0, '2025-10-23 13:49:18.519667', '2025-10-23 13:49:18.519667') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (2.2ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 7, '2025-10-23 12:49:18.524530', '2025-10-23 20:49:18.524549', NULL, 1, '2025-10-23 13:49:18.535377', '2025-10-23 13:49:18.535377') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftEvent Create (2.5ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (14, 0, 50000, 300, NULL, NULL, NULL, '2025-10-23 13:49:18.553902', '2025-10-23 13:49:18.553902') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftEvent Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 14 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mShiftAssignment Load (1.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 14 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:57:in `can_clock_out_of_shift?'
  [1m[36mShiftEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 14 AND "shift_events"."event_type" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:61:in `already_clocked_out?'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 14 AND "shift_events"."event_type" = 0 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:65:in `clocked_in?'
  [1m[36mShiftEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (14, 1, 51000, 250, NULL, NULL, NULL, '2025-10-23 13:49:18.823706', '2025-10-23 13:49:18.823706') RETURNING "id" /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:40:in `execute'
  [1m[36mShiftAssignment Update (3.7ms)[0m  [1m[33mUPDATE "shift_assignments" SET "status" = 2, "updated_at" = '2025-10-23 13:49:18.825264' WHERE "shift_assignments"."id" = 14 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:49:in `execute'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."id" = NULL LIMIT 1 /*application='Backend'*/[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'TEST1761227374' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.7ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at") VALUES ('TEST1761227374', 'Test Model', 2020, 1000, 200, 0, '2025-10-23 13:49:34.029392', '2025-10-23 13:49:34.029392') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (2.3ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 8, '2025-10-23 12:49:34.034303', '2025-10-23 20:49:34.034321', NULL, 1, '2025-10-23 13:49:34.043271', '2025-10-23 13:49:34.043271') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftEvent Create (2.2ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (15, 0, 50000, 300, NULL, NULL, NULL, '2025-10-23 13:49:34.057625', '2025-10-23 13:49:34.057625') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftEvent Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 15 /*application='Backend'*/[0m
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 15 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mShiftAssignment Load (0.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 15 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:57:in `can_clock_out_of_shift?'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 15 AND "shift_events"."event_type" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:61:in `already_clocked_out?'
  [1m[36mShiftEvent Exists? (3.6ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 15 AND "shift_events"."event_type" = 0 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:65:in `clocked_in?'
  [1m[36mShiftEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (15, 1, 51000, 250, NULL, NULL, NULL, '2025-10-23 13:49:34.179943', '2025-10-23 13:49:34.179943') RETURNING "id" /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:40:in `execute'
  [1m[36mShiftAssignment Update (0.4ms)[0m  [1m[33mUPDATE "shift_assignments" SET "status" = 2, "updated_at" = '2025-10-23 13:49:34.181365' WHERE "shift_assignments"."id" = 15 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:49:in `execute'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 15 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mShiftEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 15 /*application='Backend'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 15 /*application='Backend'*/[0m
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'test@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'TEST1761227390' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (5.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at") VALUES ('TEST1761227390', 'Test Model', 2020, 1000, 200, 0, '2025-10-23 13:49:50.526932', '2025-10-23 13:49:50.526932') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Create (4.5ms)[0m  [1m[32mINSERT INTO "shift_assignments" ("city", "driver_id", "vehicle_id", "start_time", "end_time", "recurrence_rule", "status", "created_at", "updated_at") VALUES (0, 1, 9, '2025-10-23 12:49:50.536928', '2025-10-23 20:49:50.536946', NULL, 1, '2025-10-23 13:49:50.558823', '2025-10-23 13:49:50.558823') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftEvent Create (2.2ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (16, 0, 50000, 300, NULL, NULL, NULL, '2025-10-23 13:49:50.602165', '2025-10-23 13:49:50.602165') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mShiftEvent Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 16 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mShiftAssignment Load (1.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 16 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:60:in `can_clock_out_of_shift?'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 16 AND "shift_events"."event_type" = 1 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:64:in `already_clocked_out?'
  [1m[36mShiftEvent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 16 AND "shift_events"."event_type" = 0 LIMIT 1 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:68:in `clocked_in?'
  [1m[36mShiftEvent Create (1.5ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (16, 1, 51000, 250, NULL, NULL, NULL, '2025-10-23 13:49:50.742834', '2025-10-23 13:49:50.742834') RETURNING "id" /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:40:in `execute'
  [1m[36mShiftAssignment Update (0.7ms)[0m  [1m[33mUPDATE "shift_assignments" SET "status" = 2, "updated_at" = '2025-10-23 13:49:50.745212' WHERE "shift_assignments"."id" = 16 /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:49:in `execute'
Created shift_event: 23, type: clock_out
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOut'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mShiftAssignment Load (1.0ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 16 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mShiftEvent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 16 /*application='Backend'*/[0m
  [1m[36mShiftEvent Load (0.4ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 16 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mShiftAssignment Load (1.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = 1 LIMIT 1 /*application='Backend'*/[0m
  [1m[36mShiftEvent Create (1.3ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (1, 1, 1000, NULL, NULL, NULL, NULL, '2025-10-23 13:50:53.016303', '2025-10-23 13:50:53.016303') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to AddMakeToVehicles (20251023135216)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "vehicles" ADD "make" character varying NOT NULL /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to AddMakeToVehicles (20251023135216)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "vehicles" ADD "make" character varying /*application='Backend'*/[0m
  [1m[36mVehicle Update All (0.7ms)[0m  [1m[33mUPDATE "vehicles" SET "make" = 'Unknown' /*application='Backend'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vehicles" ALTER COLUMN "make" SET NOT NULL /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251023135216') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mVehicle Load (1.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6714-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6714-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6714-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6714-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at", "make") VALUES ('GN 6714-25', 'Aeolus E70', 2023, 0, 0, 1, '2025-10-23 13:55:39.686434', '2025-10-23 13:55:39.686434', 'Dongfeng') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6776-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6776-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at", "make") VALUES ('GN 6776-25', 'Aeolus E70', 2023, 0, 0, 1, '2025-10-23 13:55:39.694687', '2025-10-23 13:55:39.694687', 'Dongfeng') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6882-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[36mVehicle Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6882-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Create (0.2ms)[0m  [1m[32mINSERT INTO "vehicles" ("license_plate", "model", "year_of_manufacture", "latest_odometer", "latest_range", "telematics_source", "created_at", "updated_at", "make") VALUES ('GN 6882-25', 'Nammi', 2023, 0, 0, 1, '2025-10-23 13:55:39.699007', '2025-10-23 13:55:39.699007', 'Dongfeng') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mVehicle Load (1.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6714-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6776-25' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."license_plate" = 'GN 6882-25' LIMIT 1 /*application='Backend'*/[0m
Started POST "/graphql" for ::1 at 2025-10-23 16:02:22 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 54ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


Started POST "/graphql" for ::1 at 2025-10-23 16:07:12 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 56ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for ::1 at 2025-10-23 16:08:47 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 34ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:08:48 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:08:48 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (9.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (2.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 63ms (Views: 0.2ms | ActiveRecord: 15.5ms (2 queries, 0 cached) | GC: 7.5ms)


  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (2.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (1.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 90ms (Views: 0.1ms | ActiveRecord: 36.9ms (5 queries, 0 cached) | GC: 9.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:28:46 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:28:46 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (56.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (52.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (2.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 76ms (Views: 0.3ms | ActiveRecord: 77.4ms (2 queries, 0 cached) | GC: 3.6ms)


  [1m[36mDriver Load (7.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (15.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (1.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (1.0ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 101ms (Views: 0.1ms | ActiveRecord: 93.3ms (5 queries, 0 cached) | GC: 4.7ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:29:23 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:29:23 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 2.2ms (2 queries, 0 cached) | GC: 1.5ms)


  [1m[36mShiftAssignment Load (6.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 8.0ms (5 queries, 0 cached) | GC: 2.1ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:29:34 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:29:34 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 1.1ms)


Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 6.0ms (5 queries, 0 cached) | GC: 4.8ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:31:02 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:31:02 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (7.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mVehicle Load (2.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 3.0ms (2 queries, 0 cached) | GC: 2.2ms)


  [1m[36mShiftAssignment Load (0.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 10.5ms (5 queries, 0 cached) | GC: 2.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:32:23 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:32:23 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (3.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (12.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 13.1ms (2 queries, 0 cached) | GC: 1.5ms)


  [1m[36mShiftAssignment Load (6.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.6ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 13.2ms (5 queries, 0 cached) | GC: 1.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:33:05 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:33:05 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    id\n    status\n    city\n    startTime\n    endTime\n    driver {\n      id\n      fullName\n      email\n      __typename\n    }\n    vehicle {\n      id\n      licensePlate\n      model\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      __typename\n    }\n    shiftEvents {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (34.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (26.1ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 66ms (Views: 0.2ms | ActiveRecord: 28.8ms (2 queries, 0 cached) | GC: 2.2ms)


  [1m[36mDriver Load (7.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.5ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 62ms (Views: 0.1ms | ActiveRecord: 43.2ms (5 queries, 0 cached) | GC: 2.5ms)


Started POST "/graphql" for ::1 at 2025-10-23 16:35:59 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 52ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 8.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:36:00 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:36:00 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.4ms)


Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 1.8ms (5 queries, 0 cached) | GC: 0.2ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:37:59 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:37:59 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (1.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 6.9ms (2 queries, 0 cached) | GC: 0.1ms)


  [1m[36mShiftAssignment Load (5.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 30ms (Views: 0.4ms | ActiveRecord: 8.1ms (5 queries, 0 cached) | GC: 0.6ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:38:50 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:38:50 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.9ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 0.4ms)


  [1m[36mShiftAssignment Load (4.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (1.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 7.6ms (5 queries, 0 cached) | GC: 0.4ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:39:30 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:39:30 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
Completed 200 OK in 23ms (Views: 4.2ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 4.8ms)


  [1m[36mShiftAssignment Load (4.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (7.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (19.5ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 122ms (Views: 0.1ms | ActiveRecord: 32.9ms (5 queries, 0 cached) | GC: 6.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:42:49 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 16:42:50 +0200
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 39ms (Views: 0.5ms | ActiveRecord: 5.2ms (2 queries, 0 cached) | GC: 3.6ms)


Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (1.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 2.8ms (5 queries, 0 cached) | GC: 0.9ms)


Started POST "/graphql" for ::1 at 2025-10-23 17:06:12 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 48ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 5.7ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:06:13 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:06:13 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (5.0ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 18.9ms (2 queries, 0 cached) | GC: 8.5ms)


  [1m[36mDriver Load (7.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (2.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.9ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 69ms (Views: 0.1ms | ActiveRecord: 25.9ms (5 queries, 0 cached) | GC: 9.7ms)


Started POST "/graphql" for ::1 at 2025-10-23 17:20:22 +0200
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 112ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


Started POST "/graphql" for ::1 at 2025-10-23 17:21:49 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 27ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:24:03 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:24:03 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (20.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (1.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 178ms (Views: 0.2ms | ActiveRecord: 137.3ms (2 queries, 0 cached) | GC: 24.4ms)


  [1m[36mDriver Load (8.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (2.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (1.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (1.0ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 217ms (Views: 0.1ms | ActiveRecord: 167.3ms (5 queries, 0 cached) | GC: 26.8ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:29:35 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:29:35 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (33.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (36.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 48.5ms (2 queries, 0 cached) | GC: 2.0ms)


  [1m[36mDriver Load (5.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (2.5ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 62ms (Views: 0.1ms | ActiveRecord: 56.4ms (5 queries, 0 cached) | GC: 3.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:35:22 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:35:22 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (10.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 39ms (Views: 0.3ms | ActiveRecord: 10.3ms (2 queries, 0 cached) | GC: 1.1ms)


  [1m[36mDriver Load (6.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (25.2ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (1.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 60ms (Views: 0.1ms | ActiveRecord: 38.4ms (5 queries, 0 cached) | GC: 2.7ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:35:40 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:35:40 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (1.0ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mShiftAssignment Load (4.0ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 5.7ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:36:09 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:36:09 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mDriver Load (4.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 5.7ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:42:58 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:42:58 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (23.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (24.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (5.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 42.4ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mDriver Load (4.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 52ms (Views: 0.1ms | ActiveRecord: 47.5ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for ::1 at 2025-10-23 17:49:58 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 74ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 34.4ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:49:59 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 17:49:59 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (41.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (41.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (2.0ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 50ms (Views: 0.1ms | ActiveRecord: 59.1ms (2 queries, 0 cached) | GC: 1.2ms)


  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (4.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.8ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 62ms (Views: 0.1ms | ActiveRecord: 69.7ms (5 queries, 0 cached) | GC: 1.6ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:05:55 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2200, "gpsLat"=>0, "gpsLon"=>0, "range"=>10, "expenses"=>0, "revenue"=>"800", "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2200, "gpsLat"=>0, "gpsLon"=>0, "range"=>10, "expenses"=>0, "revenue"=>"800", "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (36.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Completed 200 OK in 56ms (Views: 0.2ms | ActiveRecord: 58.2ms (1 query, 0 cached) | GC: 1.0ms)


Started POST "/graphql" for ::1 at 2025-10-23 18:10:23 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 55ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 10.8ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:10:24 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:10:24 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (1.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Completed 200 OK in 64ms (Views: 0.1ms | ActiveRecord: 37.1ms (2 queries, 0 cached) | GC: 4.4ms)


  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (2.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.8ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 96ms (Views: 0.1ms | ActiveRecord: 83.4ms (5 queries, 0 cached) | GC: 5.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:16:27 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2300, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12", "earnings"=>"600", "revenue"=>"800"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2300, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12", "earnings"=>"600", "revenue"=>"800"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:19:36 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2300, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12", "earnings"=>600, "revenue"=>800}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2300, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12", "earnings"=>600, "revenue"=>800}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:21:18 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (16.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "last_sign_in_at" = '2025-10-23 16:21:19.246071', "sign_in_count" = 2, "updated_at" = '2025-10-23 16:21:19.246545' WHERE "users"."id" = 2 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/models/user.rb:65:in `update_sign_in_info!'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Completed 200 OK in 353ms (Views: 0.1ms | ActiveRecord: 33.3ms (2 queries, 0 cached) | GC: 1.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:21:19 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:21:19 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.2ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (1.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 5.1ms (5 queries, 0 cached) | GC: 0.5ms)


  [1m[36mUser Load (15.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (1.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 24.4ms (2 queries, 0 cached) | GC: 0.7ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:21:57 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:21:57 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (2.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 3.5ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mDriver Load (4.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (4.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 12.3ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:21:59 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:21:59 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (2.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.6ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 10.0ms (5 queries, 0 cached) | GC: 8.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:22:01 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:22:01 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 2.0ms)


  [1m[36mDriver Load (5.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 9.6ms (5 queries, 0 cached) | GC: 2.6ms)


Started POST "/graphql" for ::1 at 2025-10-23 18:25:11 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 46ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 7.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:25:11 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:25:11 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 2.0ms (2 queries, 0 cached) | GC: 0.8ms)


Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 2.6ms (5 queries, 0 cached) | GC: 0.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:27:36 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:27:36 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 3.5ms (5 queries, 0 cached) | GC: 1.0ms)


  [1m[36mUser Load (21.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 30.2ms (2 queries, 0 cached) | GC: 1.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:28:43 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:28:43 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (1.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 3.6ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mShiftAssignment Load (4.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.6ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 9.8ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:29:18 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:29:18 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (2.1ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 7.2ms)


  [1m[36mDriver Load (6.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 13.9ms (5 queries, 0 cached) | GC: 8.7ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:29:40 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:29:40 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 4.2ms (2 queries, 0 cached) | GC: 2.1ms)


  [1m[36mDriver Load (4.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 9.9ms (5 queries, 0 cached) | GC: 1.4ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:33:32 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:33:32 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (1.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 3.5ms (2 queries, 0 cached) | GC: 2.0ms)


  [1m[36mShiftAssignment Load (6.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.4ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 13.0ms (5 queries, 0 cached) | GC: 2.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:33:38 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:33:38 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (0.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 3.8ms (2 queries, 0 cached) | GC: 1.8ms)


  [1m[36mShiftAssignment Load (5.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 6.7ms (5 queries, 0 cached) | GC: 2.2ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:33:45 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:33:45 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 1.5ms (2 queries, 0 cached) | GC: 1.8ms)


  [1m[36mDriver Load (5.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 8.0ms (5 queries, 0 cached) | GC: 1.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:36:11 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      fullName\n      driver {\n        id\n        fullName\n        __typename\n      }\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      fullName\n      driver {\n        id\n        fullName\n        __typename\n      }\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "last_sign_in_at" = '2025-10-23 16:36:11.605047', "sign_in_count" = 3, "updated_at" = '2025-10-23 16:36:11.605472' WHERE "users"."id" = 2 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/models/user.rb:65:in `update_sign_in_info!'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mDriver Load (0.9ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='User.driver',current_graphql_operation='CreateSessionMutation'*/[0m
Completed 200 OK in 294ms (Views: 0.1ms | ActiveRecord: 10.2ms (3 queries, 0 cached) | GC: 2.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:36:11 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:36:11 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (2.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 3.3ms (2 queries, 0 cached) | GC: 1.2ms)


  [1m[36mShiftAssignment Load (4.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 7.9ms (5 queries, 0 cached) | GC: 1.2ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:37:45 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2400, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12", "earnings"=>600, "revenue"=>900}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2400, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12", "earnings"=>600, "revenue"=>900}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:12:in `execute'
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:12:in `execute'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = NULL LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Shift assignment not found
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_out.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 2.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:38:15 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:38:15 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (1.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 2.1ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mShiftAssignment Load (5.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (16.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (1.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 49ms (Views: 0.2ms | ActiveRecord: 26.3ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:41:03 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:41:03 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (12.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (4.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 13.6ms (2 queries, 0 cached) | GC: 14.9ms)


  [1m[36mShiftAssignment Load (8.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 17.1ms (5 queries, 0 cached) | GC: 4.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:41:21 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2300, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12", "earnings"=>600, "revenue"=>800}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2300, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "shiftAssignmentId"=>"ShiftAssignment:7XEG7pZM12", "earnings"=>600, "revenue"=>800}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:12:in `execute'
  [1m[36mDriver Load (1.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:12:in `execute'
  [1m[36mShiftAssignment Load (0.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."id" = NULL LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:15:in `execute'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
Mutation Error: Mutations::BaseMutation::MutationError - Shift assignment not found
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:98:in `error!'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/clock_out.rb:21:in `execute'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:67:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:626:in `block in within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-8.0.3/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:623:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:367:in `within_new_transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:359:in `transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:233:in `block in transaction'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/connection_handling.rb:310:in `with_connection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activerecord-8.0.3/lib/active_record/transactions.rb:232:in `transaction'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/mutations/base_mutation.rb:66:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:118:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/mutation.rb:69:in `call_resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:105:in `block (3 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:93:in `block (2 levels) in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:84:in `block in resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/resolver.rb:72:in `resolve_with_support'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:758:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:432:in `block in evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:941:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:377:in `evaluate_selection_with_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:371:in `block in evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/arguments_cache.rb:46:in `block in dataload_for'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/member/has_arguments.rb:272:in `block (3 levels) in coerce_arguments'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.1ms (3 queries, 0 cached) | GC: 0.4ms)


Started POST "/graphql" for ::1 at 2025-10-23 18:58:05 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 50ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 5.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:58:06 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 18:58:06 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (4.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (6.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 100ms (Views: 0.1ms | ActiveRecord: 51.5ms (2 queries, 0 cached) | GC: 9.5ms)


  [1m[36mShiftAssignment Load (8.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (1.0ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 110ms (Views: 0.1ms | ActiveRecord: 55.3ms (5 queries, 0 cached) | GC: 10.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:01:54 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2300, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "earnings"=>600, "revenue"=>800}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"ClockOutMutation", "variables"=>{"input"=>{"odometer"=>2300, "gpsLat"=>0, "gpsLon"=>0, "vehicleRange"=>20, "earnings"=>600, "revenue"=>800}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation ClockOutMutation($input: ClockOutInput!) {\n  clockOut(input: $input) {\n    shiftEvent {\n      id\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      shiftAssignment {\n        id\n        status\n        driver {\n          id\n          fullName\n          __typename\n        }\n        vehicle {\n          id\n          licensePlate\n          model\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    errors {\n      message\n      field\n      code\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:12:in `execute'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:12:in `execute'
  [1m[36mShiftAssignment Load (1.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:14:in `execute'
  [1m[36mShiftEvent Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:64:in `already_clocked_out?'
  [1m[36mShiftEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:68:in `clocked_in?'
  [1m[36mShiftEvent Create (1.3ms)[0m  [1m[32mINSERT INTO "shift_events" ("shift_assignment_id", "event_type", "odometer", "vehicle_range", "gps_lat", "gps_lon", "notes", "created_at", "updated_at") VALUES (3, 1, 2300, 20, 0.0, 0.0, NULL, '2025-10-23 17:01:55.192792', '2025-10-23 17:01:55.192792') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:36:in `execute'
  [1m[36mRevenueRecord Create (3.4ms)[0m  [1m[32mINSERT INTO "revenue_records" ("shift_assignment_id", "driver_id", "total_revenue", "total_profit", "reconciled", "created_at", "updated_at") VALUES (3, 2, 800.0, 600.0, FALSE, '2025-10-23 17:01:55.205324', '2025-10-23 17:01:55.205324') RETURNING "id" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:45:in `execute'
  [1m[36mShiftAssignment Update (11.8ms)[0m  [1m[33mUPDATE "shift_assignments" SET "status" = 2, "updated_at" = '2025-10-23 17:01:55.209768' WHERE "shift_assignments"."id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/clock_out.rb:52:in `execute'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.clockOut',current_graphql_operation='ClockOutMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='ClockOutMutation'*/[0m
Completed 200 OK in 189ms (Views: 0.1ms | ActiveRecord: 77.1ms (9 queries, 0 cached) | GC: 52.6ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:02:09 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:02:09 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 1.1ms)


  [1m[36mDriver Load (1.9ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (2.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 17.1ms (3 queries, 0 cached) | GC: 1.2ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:03:59 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:03:59 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 1.5ms (2 queries, 0 cached) | GC: 1.2ms)


  [1m[36mDriver Load (4.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 5.5ms (3 queries, 0 cached) | GC: 1.6ms)


Started POST "/graphql" for ::1 at 2025-10-23 19:06:47 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 55ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 11.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:24:59 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:24:59 +0200
Processing by GraphqlController#execute as JSON
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (2.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
Completed 200 OK in 91ms (Views: 0.2ms | ActiveRecord: 68.5ms (2 queries, 0 cached) | GC: 4.8ms)


  [1m[36mShiftAssignment Load (1.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 109ms (Views: 0.1ms | ActiveRecord: 85.1ms (3 queries, 0 cached) | GC: 4.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:25:16 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:25:16 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (2.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (2.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 4.9ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mShiftAssignment Load (4.0ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 12ms (Views: 0.0ms | ActiveRecord: 7.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:25:46 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:25:46 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (1.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mDriver Load (4.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (2.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 8.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:26:49 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:26:49 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mShiftAssignment Load (3.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 5.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:27:25 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:27:25 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (2.1ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.6ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mDriver Load (3.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 5.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:30:10 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:30:10 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:30:10 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (1.1ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 4.9ms (2 queries, 0 cached) | GC: 19.1ms)


  [1m[36mUser Load (38.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mUser Load (55.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (4.0ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 68ms (Views: 0.1ms | ActiveRecord: 75.2ms (3 queries, 0 cached) | GC: 23.5ms)


  [1m[36mShiftEvent Load (0.9ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.9ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 89ms (Views: 0.1ms | ActiveRecord: 50.4ms (6 queries, 0 cached) | GC: 25.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:33:26 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:33:26 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:33:26 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 2.4ms)


  [1m[36mDriver Load (9.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mDriver Load (5.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.2ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 15.4ms (3 queries, 0 cached) | GC: 2.4ms)


  [1m[36mShiftAssignment Load (0.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mVehicle Load (1.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (12.1ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 49ms (Views: 0.3ms | ActiveRecord: 26.4ms (6 queries, 0 cached) | GC: 4.2ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:34:39 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:34:39 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:34:39 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (10.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (2.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mVehicle Load (4.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 11.4ms (2 queries, 0 cached) | GC: 3.3ms)


  [1m[36mShiftAssignment Load (5.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mDriver Load (1.9ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (1.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.8ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 13.8ms (6 queries, 0 cached) | GC: 5.2ms)


  [1m[36mShiftAssignment Load (11.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 41ms (Views: 0.0ms | ActiveRecord: 23.7ms (3 queries, 0 cached) | GC: 5.2ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:35:10 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.0ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.3ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 2.5ms (6 queries, 0 cached) | GC: 0.7ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:35:13 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:35:13 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:35:13 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Processing by GraphqlController#execute as JSON
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 0.8ms)


  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 2.8ms (3 queries, 0 cached) | GC: 1.3ms)


  [1m[36mShiftAssignment Load (0.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 19ms (Views: 0.6ms | ActiveRecord: 7.1ms (6 queries, 0 cached) | GC: 2.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to AddActualTimesToShiftAssignments (20251023173806)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "shift_assignments" ADD "actual_start_time" timestamp(6) /*application='Backend'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "shift_assignments" ADD "actual_end_time" timestamp(6) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251023173806') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Reverting AddActualTimesToShiftAssignments (20251023173806)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "shift_assignments" DROP COLUMN "actual_end_time" /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "shift_assignments" DROP COLUMN "actual_start_time" /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251023173806' /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Started POST "/graphql" for ::1 at 2025-10-23 19:40:47 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 56ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 8.1ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:40:48 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:40:48 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:40:48 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    endTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (8.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mShiftAssignment Load (5.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mVehicle Load (6.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mDriver Load (5.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
Completed 200 OK in 63ms (Views: 0.2ms | ActiveRecord: 16.4ms (2 queries, 0 cached) | GC: 3.1ms)


  [1m[36mVehicle Load (8.0ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftAssignment Load (2.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 67ms (Views: 0.1ms | ActiveRecord: 34.5ms (3 queries, 0 cached) | GC: 3.1ms)


  [1m[36mShiftEvent Load (2.8ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (1.0ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 86ms (Views: 0.1ms | ActiveRecord: 27.7ms (6 queries, 0 cached) | GC: 3.7ms)


Started POST "/graphql" for ::1 at 2025-10-23 19:41:40 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 39ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:41:40 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:41:40 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:41:40 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (7.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (4.0ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 19.4ms (2 queries, 0 cached) | GC: 3.5ms)


  [1m[36mDriver Load (6.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftAssignment Load (0.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 66ms (Views: 0.1ms | ActiveRecord: 27.9ms (3 queries, 0 cached) | GC: 9.0ms)


  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.8ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.1ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 82ms (Views: 0.1ms | ActiveRecord: 38.4ms (8 queries, 0 cached) | GC: 5.4ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:42:13 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.5ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 2.6ms (8 queries, 0 cached) | GC: 0.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:42:23 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 2.5ms (8 queries, 0 cached) | GC: 0.8ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:43:10 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (11.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.5ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 46ms (Views: 0.3ms | ActiveRecord: 13.7ms (8 queries, 0 cached) | GC: 2.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:43:57 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (12.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.9ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 16.1ms (8 queries, 0 cached) | GC: 2.2ms)


Started POST "/graphql" for ::1 at 2025-10-23 19:45:50 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 48ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 6.6ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:45:51 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:45:51 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:45:51 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (8.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (2.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
Completed 200 OK in 57ms (Views: 0.1ms | ActiveRecord: 38.9ms (2 queries, 0 cached) | GC: 2.6ms)


  [1m[36mDriver Load (11.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftAssignment Load (4.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 61ms (Views: 0.1ms | ActiveRecord: 41.5ms (3 queries, 0 cached) | GC: 2.2ms)


  [1m[36mShiftEvent Load (0.5ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.3ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 84ms (Views: 0.1ms | ActiveRecord: 45.2ms (8 queries, 0 cached) | GC: 2.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:46:41 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:46:41 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:46:41 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 0.1ms)


  [1m[36mDriver Load (4.9ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 3.8ms (3 queries, 0 cached) | GC: 0.1ms)


  [1m[36mShiftAssignment Load (0.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (1.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.1ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (1.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 10.1ms (8 queries, 0 cached) | GC: 0.1ms)


Started POST "/graphql" for ::1 at 2025-10-23 19:46:50 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 28ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:46:50 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:46:50 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:46:50 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mDriver Load (3.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 0.0ms)


  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mShiftAssignment Load (2.2ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftEvent Load (1.0ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftAssignment Load (3.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 4.6ms (3 queries, 0 cached) | GC: 3.3ms)


  [1m[36mShiftEvent Load (0.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.1ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
undefined local variable or method `make' for #<Types::VehicleType:0x0000000103ef9120 @object=#<Vehicle id: 1, license_plate: "ABC123", model: "Test Model", year_of_manufacture: 2020, latest_odometer: 10000, latest_range: 300, telematics_source: "manual", created_at: "2025-10-22 16:47:36.042371000 +0000", updated_at: "2025-10-22 16:47:36.042371000 +0000", make: "Unknown">, @context=#<GraphQL::Query::Context ...>>
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/types/vehicle_type.rb:17:in `display_name'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:358:in `evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:314:in `block (3 levels) in evaluate_selections'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 500 Internal Server Error in 27ms (Views: 0.1ms | ActiveRecord: 10.1ms (8 queries, 0 cached) | GC: 4.0ms)


Started POST "/graphql" for ::1 at 2025-10-23 19:47:38 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 33ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 5.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:47:38 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:47:38 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:47:38 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mDriver Load (3.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
undefined local variable or method `make' for #<Types::VehicleType:0x0000000122a19af0 @object=#<Vehicle id: 1, license_plate: "ABC123", model: "Test Model", year_of_manufacture: 2020, latest_odometer: 10000, latest_range: 300, telematics_source: "manual", created_at: "2025-10-22 16:47:36.042371000 +0000", updated_at: "2025-10-22 16:47:36.042371000 +0000", make: "Unknown">, @context=#<GraphQL::Query::Context ...>>
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/types/vehicle_type.rb:17:in `display_name'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:358:in `evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:314:in `block (3 levels) in evaluate_selections'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
  [1m[36mShiftAssignment Load (1.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 500 Internal Server Error in 11ms (Views: 0.1ms | ActiveRecord: 3.3ms (2 queries, 0 cached) | GC: 0.9ms)


  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mShiftAssignment Load (0.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 6.2ms (3 queries, 0 cached) | GC: 0.9ms)


  [1m[36mShiftEvent Load (1.0ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.6ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.4ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
undefined local variable or method `make' for #<Types::VehicleType:0x0000000122b91838 @object=#<Vehicle id: 1, license_plate: "ABC123", model: "Test Model", year_of_manufacture: 2020, latest_odometer: 10000, latest_range: 300, telematics_source: "manual", created_at: "2025-10-22 16:47:36.042371000 +0000", updated_at: "2025-10-22 16:47:36.042371000 +0000", make: "Unknown">, @context=#<GraphQL::Query::Context ...>>
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/types/vehicle_type.rb:17:in `display_name'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:358:in `evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:314:in `block (3 levels) in evaluate_selections'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 500 Internal Server Error in 23ms (Views: 0.1ms | ActiveRecord: 7.3ms (8 queries, 0 cached) | GC: 1.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:47:49 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:47:49 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:47:49 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Processing by GraphqlController#execute as JSON
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
undefined local variable or method `make' for #<Types::VehicleType:0x0000000122d57d70 @object=#<Vehicle id: 1, license_plate: "ABC123", model: "Test Model", year_of_manufacture: 2020, latest_odometer: 10000, latest_range: 300, telematics_source: "manual", created_at: "2025-10-22 16:47:36.042371000 +0000", updated_at: "2025-10-22 16:47:36.042371000 +0000", make: "Unknown">, @context=#<GraphQL::Query::Context ...>>
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/types/vehicle_type.rb:17:in `display_name'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:358:in `evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:314:in `block (3 levels) in evaluate_selections'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
Completed 500 Internal Server Error in 10ms (Views: 0.1ms | ActiveRecord: 2.6ms (2 queries, 0 cached) | GC: 0.7ms)


  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mShiftAssignment Load (0.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 4.6ms (3 queries, 0 cached) | GC: 1.0ms)


  [1m[36mShiftAssignment Load (0.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
undefined local variable or method `make' for #<Types::VehicleType:0x0000000122e96628 @object=#<Vehicle id: 1, license_plate: "ABC123", model: "Test Model", year_of_manufacture: 2020, latest_odometer: 10000, latest_range: 300, telematics_source: "manual", created_at: "2025-10-22 16:47:36.042371000 +0000", updated_at: "2025-10-22 16:47:36.042371000 +0000", make: "Unknown">, @context=#<GraphQL::Query::Context ...>>
/Users/kwasiyonkopa/dev/ked-transport-services-os/backend/app/graphql/types/vehicle_type.rb:17:in `display_name'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `public_send'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:760:in `block (2 levels) in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:892:in `with_extensions'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:729:in `block in resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:882:in `minimal_after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/query.rb:28:in `after_lazy'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/schema/field.rb:727:in `resolve'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:467:in `block (2 levels) in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/tracing/trace.rb:90:in `execute_field'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:466:in `block in evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:820:in `call_method_on_directives'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:454:in `evaluate_selection_with_resolved_keyword_args'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:358:in `evaluate_selection'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/execution/interpreter/runtime.rb:314:in `block (3 levels) in evaluate_selections'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:352:in `block in spawn_job_fiber'
/Users/kwasiyonkopa/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/graphql-2.5.14/lib/graphql/dataloader.rb:254:in `block in spawn_fiber'
Completed 500 Internal Server Error in 15ms (Views: 0.1ms | ActiveRecord: 2.6ms (8 queries, 0 cached) | GC: 0.8ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:48:31 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:48:31 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:48:31 +0200
Processing by GraphqlController#execute as JSON
Processing by GraphqlController#execute as JSON
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mDriver Load (4.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 51ms (Views: 0.1ms | ActiveRecord: 16.7ms (2 queries, 0 cached) | GC: 2.8ms)


  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftAssignment Load (4.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 60ms (Views: 0.1ms | ActiveRecord: 20.6ms (3 queries, 0 cached) | GC: 3.2ms)


  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.4ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 84ms (Views: 0.1ms | ActiveRecord: 31.3ms (8 queries, 0 cached) | GC: 3.8ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:50:00 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (2.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (2.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (2.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.4ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (1.9ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 51ms (Views: 0.2ms | ActiveRecord: 10.4ms (8 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:50:45 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 3.1ms (8 queries, 0 cached) | GC: 0.2ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:51:32 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (10.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.4ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 13.4ms (8 queries, 0 cached) | GC: 1.1ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:51:58 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.1ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.3ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 2.9ms (8 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:54:27 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:54:27 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:54:27 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mDriver Load (4.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 8.5ms (3 queries, 0 cached) | GC: 3.3ms)


  [1m[36mUser Load (37.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (29.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (1.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 47ms (Views: 0.1ms | ActiveRecord: 51.1ms (2 queries, 0 cached) | GC: 6.3ms)


  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (2.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (1.0ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 52ms (Views: 0.1ms | ActiveRecord: 52.3ms (8 queries, 0 cached) | GC: 3.6ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:54:28 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:54:28 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:54:28 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Processing by GraphqlController#execute as JSON
  [1m[36mVehicle Load (2.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 3.5ms (2 queries, 0 cached) | GC: 1.2ms)


  [1m[36mDriver Load (5.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mUser Load (11.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mShiftEvent Load (2.5ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftEvent Load (0.6ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mShiftAssignment Load (0.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 11.9ms (3 queries, 0 cached) | GC: 1.4ms)


  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.9ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 13.6ms (8 queries, 0 cached) | GC: 2.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:19 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:19 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:19 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mDriver Load (2.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 2.3ms (2 queries, 0 cached) | GC: 1.1ms)


  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mShiftAssignment Load (1.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftEvent Load (0.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftAssignment Load (0.8ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 7.0ms (3 queries, 0 cached) | GC: 0.9ms)


  [1m[36mShiftEvent Load (0.6ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.3ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 7.4ms (8 queries, 0 cached) | GC: 2.2ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:21 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:21 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:21 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
Processing by GraphqlController#execute as JSON
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (2.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.7ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mVehicle Load (2.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mShiftEvent Load (0.9ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 5.2ms (2 queries, 0 cached) | GC: 1.1ms)


  [1m[36mShiftAssignment Load (5.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 9.2ms (3 queries, 0 cached) | GC: 1.3ms)


  [1m[36mShiftEvent Load (0.5ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 5.5ms (8 queries, 0 cached) | GC: 1.6ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:38 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:38 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:38 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (1.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 1.4ms)


Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mDriver Load (1.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftAssignment Load (1.2ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 3.8ms (3 queries, 0 cached) | GC: 0.0ms)


  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.4ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 3.6ms (8 queries, 0 cached) | GC: 1.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:40 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:40 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:55:40 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mDriver Load (2.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mVehicle Load (1.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mShiftAssignment Load (1.0ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 2.9ms (2 queries, 0 cached) | GC: 1.3ms)


  [1m[36mShiftAssignment Load (4.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mShiftEvent Load (0.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 17ms (Views: 0.0ms | ActiveRecord: 8.3ms (3 queries, 0 cached) | GC: 1.3ms)


  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.7ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.1ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 3.9ms (8 queries, 0 cached) | GC: 1.7ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:03 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:03 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:03 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mDriver Load (1.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 0.9ms)


  [1m[36mDriver Load (6.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.2ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftAssignment Load (1.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mShiftEvent Load (0.4ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 11.0ms (3 queries, 0 cached) | GC: 1.1ms)


  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.1ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 4.0ms (8 queries, 0 cached) | GC: 1.6ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:05 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:05 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:05 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mVehicle Load (1.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 0.6ms)


  [1m[36mShiftAssignment Load (1.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 2.6ms (3 queries, 0 cached) | GC: 0.8ms)


  [1m[36mShiftAssignment Load (5.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (1.6ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.1ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 11.5ms (8 queries, 0 cached) | GC: 1.3ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:12 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:12 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:12 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
Processing by GraphqlController#execute as JSON
  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mVehicle Load (1.0ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 3.8ms (2 queries, 0 cached) | GC: 0.9ms)


  [1m[36mShiftAssignment Load (5.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 7.3ms (3 queries, 0 cached) | GC: 1.1ms)


  [1m[36mDriver Load (1.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.3ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 4.4ms (8 queries, 0 cached) | GC: 1.1ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:21 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:21 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:21 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mVehicle Load (1.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 3.4ms (2 queries, 0 cached) | GC: 2.8ms)


  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (1.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftAssignment Load (1.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 4.1ms (3 queries, 0 cached) | GC: 4.0ms)


  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (2.6ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (1.8ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.3ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 8.5ms (8 queries, 0 cached) | GC: 4.8ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:31 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:31 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 19:56:31 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
Processing by GraphqlController#execute as JSON
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mVehicle Load (1.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 0.8ms)


  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mShiftAssignment Load (2.0ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 3.1ms (3 queries, 0 cached) | GC: 1.0ms)


  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 7.0ms (8 queries, 0 cached) | GC: 1.4ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:03:45 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:03:45 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:03:45 +0200
Processing by GraphqlController#execute as JSON
Processing by GraphqlController#execute as JSON
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (4.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 14.9ms (2 queries, 0 cached) | GC: 6.0ms)


  [1m[36mDriver Load (5.9ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mDriver Load (6.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (2.0ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftAssignment Load (1.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 80ms (Views: 0.1ms | ActiveRecord: 24.7ms (3 queries, 0 cached) | GC: 4.4ms)


  [1m[36mShiftEvent Load (1.8ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (1.3ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 94ms (Views: 0.1ms | ActiveRecord: 25.5ms (8 queries, 0 cached) | GC: 4.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:03:54 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      fullName\n      driver {\n        id\n        fullName\n        __typename\n      }\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"CreateSessionMutation", "variables"=>{"input"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "loginScope"=>"user"}}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"mutation CreateSessionMutation($input: CreateSessionInput!) {\n  createSession(input: $input) {\n    user {\n      id\n      email\n      firstName\n      lastName\n      fullName\n      driver {\n        id\n        fullName\n        __typename\n      }\n      __typename\n    }\n    authToken {\n      accessToken\n      refreshToken\n      tokenType\n      expiresIn\n      __typename\n    }\n    errors {\n      message\n      code\n      field\n      __typename\n    }\n    __typename\n  }\n}"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."email" = 'kyonkopa@gmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/create_session.rb:18:in `execute'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "last_sign_in_at" = '2025-10-23 18:03:55.075491', "sign_in_count" = 4, "updated_at" = '2025-10-23 18:03:55.075736' WHERE "users"."id" = 2 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/models/user.rb:65:in `update_sign_in_info!'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT /*action='execute',application='Backend',controller='graphql',current_graphql_field='Mutation.createSession',current_graphql_operation='CreateSessionMutation'*/[0m
  ↳ app/graphql/mutations/base_mutation.rb:66:in `resolve'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='User.driver',current_graphql_operation='CreateSessionMutation'*/[0m
Completed 200 OK in 282ms (Views: 0.1ms | ActiveRecord: 5.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:03:55 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:03:55 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:03:55 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mShiftAssignment Load (0.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftAssignment Load (1.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mVehicle Load (0.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.2ms (2 queries, 0 cached) | GC: 0.0ms)


  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mShiftEvent Load (3.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
Completed 200 OK in 12ms (Views: 0.0ms | ActiveRecord: 2.3ms (3 queries, 0 cached) | GC: 0.1ms)


  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 5.6ms (8 queries, 0 cached) | GC: 0.1ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:07:04 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:07:04 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:07:04 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (8.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mVehicle Load (3.1ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 6.9ms (2 queries, 0 cached) | GC: 28.7ms)


Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mDriver Load (22.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  [1m[36mUser Load (34.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mShiftAssignment Load (1.9ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 84ms (Views: 0.1ms | ActiveRecord: 32.6ms (3 queries, 0 cached) | GC: 61.4ms)


  [1m[36mDriver Load (3.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (13.1ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.5ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.6ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.8ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.3ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 74ms (Views: 0.1ms | ActiveRecord: 50.2ms (8 queries, 0 cached) | GC: 39.9ms)


Started POST "/graphql" for ::1 at 2025-10-23 20:07:58 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 33ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 4.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:07:59 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:07:59 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:07:59 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      dob\n      createdAt\n      updatedAt\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      dob\n      createdAt\n      updatedAt\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (3.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  [1m[36mVehicle Load (2.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 4.3ms (2 queries, 0 cached) | GC: 1.1ms)


  [1m[36mShiftAssignment Load (1.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 6.9ms (3 queries, 0 cached) | GC: 1.1ms)


  [1m[36mDriver Load (4.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (13.5ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.8ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.4ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.9ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 47ms (Views: 0.1ms | ActiveRecord: 27.7ms (8 queries, 0 cached) | GC: 1.5ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:08:27 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      dob\n      createdAt\n      updatedAt\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      verified\n      dob\n      createdAt\n      updatedAt\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.6ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 2.3ms (8 queries, 0 cached) | GC: 0.6ms)


Started POST "/graphql" for ::1 at 2025-10-23 20:08:40 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}", "graphql"=>{"query"=>"query IntrospectionQuery{__schema{queryType{name kind}mutationType{name kind}subscriptionType{name kind}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}}}"}}
Completed 200 OK in 31ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.9ms)


Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:08:40 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:08:40 +0200
Started POST "/graphql" for 127.0.0.1 at 2025-10-23 20:08:40 +0200
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}", "graphql"=>{"operationName"=>"CurrentShiftQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query CurrentShiftQuery {\n  currentShift {\n    ...CurrentShiftFragment\n    __typename\n  }\n}\n\nfragment CurrentShiftFragment on ShiftAssignment {\n  id\n  status\n  city\n  startTime\n  endTime\n  driver {\n    id\n    fullName\n    email\n    __typename\n  }\n  vehicle {\n    id\n    licensePlate\n    model\n    yearOfManufacture\n    latestOdometer\n    latestRange\n    __typename\n  }\n  shiftEvents {\n    id\n    eventType\n    odometer\n    vehicleRange\n    gpsLat\n    gpsLon\n    notes\n    createdAt\n    __typename\n  }\n  __typename\n}"}}
Processing by GraphqlController#execute as JSON
  Parameters: {"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"VehiclesQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query VehiclesQuery {\n  vehicles {\n    id\n    globalId\n    make\n    model\n    licensePlate\n    yearOfManufacture\n    displayName\n    latestOdometer\n    latestRange\n    telematicsSource\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
Processing by GraphqlController#execute as JSON
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:10:in `resolve'
  Parameters: {"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      createdAt\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}", "graphql"=>{"operationName"=>"TodayShiftsQuery", "variables"=>{}, "extensions"=>{"clientLibrary"=>{"name"=>"@apollo/client", "version"=>"4.0.7"}}, "query"=>"query TodayShiftsQuery {\n  todayShifts {\n    id\n    globalId\n    city\n    startTime\n    actualStartTime\n    endTime\n    actualEndTime\n    status\n    recurrenceRule\n    driver {\n      id\n      globalId\n      fullName\n      email\n      phoneNumber\n      createdAt\n      __typename\n    }\n    vehicle {\n      id\n      globalId\n      licensePlate\n      model\n      make\n      yearOfManufacture\n      latestOdometer\n      displayName\n      latestRange\n      telematicsSource\n      __typename\n    }\n    shiftEvents {\n      id\n      globalId\n      eventType\n      odometer\n      vehicleRange\n      gpsLat\n      gpsLon\n      notes\n      createdAt\n      __typename\n    }\n    revenueRecords {\n      id\n      globalId\n      totalRevenue\n      totalProfit\n      reconciled\n      createdAt\n      __typename\n    }\n    createdAt\n    updatedAt\n    __typename\n  }\n}"}}
  [1m[36mVehicle Load (1.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.vehicles',current_graphql_operation='VehiclesQuery'*/[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 2.1ms (2 queries, 0 cached) | GC: 0.5ms)


  [1m[36mShiftAssignment Load (4.4ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."status" = 1 ORDER BY "shift_assignments"."id" ASC LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.currentShift',current_graphql_operation='CurrentShiftQuery'*/[0m
  ↳ app/graphql/queries/current_shift_query.rb:12:in `resolve'
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."deleted_at" IS NULL AND "users"."id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql'*/[0m
  ↳ app/controllers/graphql_controller.rb:36:in `authenticate_user'
Completed 200 OK in 12ms (Views: 0.0ms | ActiveRecord: 5.6ms (3 queries, 0 cached) | GC: 0.8ms)


  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."user_id" = 2 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/graphql/queries/today_shifts_query.rb:10:in `resolve'
  [1m[36mShiftAssignment Load (0.3ms)[0m  [1m[34mSELECT "shift_assignments".* FROM "shift_assignments" WHERE "shift_assignments"."driver_id" = 2 AND "shift_assignments"."start_time" BETWEEN '2025-10-23 00:00:00' AND '2025-10-23 23:59:59.999999' ORDER BY "shift_assignments"."start_time" ASC /*action='execute',application='Backend',controller='graphql',current_graphql_field='Query.todayShifts',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.3ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 0 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualStartTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:58:in `actual_start_time'
  [1m[36mShiftEvent Load (0.2ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 AND "shift_events"."event_type" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.actualEndTime',current_graphql_operation='TodayShiftsQuery'*/[0m
  ↳ app/models/shift_assignment.rb:62:in `actual_end_time'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = 1 LIMIT 1 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.vehicle',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mShiftEvent Load (0.1ms)[0m  [1m[34mSELECT "shift_events".* FROM "shift_events" WHERE "shift_events"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.shiftEvents',current_graphql_operation='TodayShiftsQuery'*/[0m
  [1m[36mRevenueRecord Load (0.2ms)[0m  [1m[34mSELECT "revenue_records".* FROM "revenue_records" WHERE "revenue_records"."shift_assignment_id" = 3 /*action='execute',application='Backend',controller='graphql',current_graphql_field='ShiftAssignment.revenueRecords',current_graphql_operation='TodayShiftsQuery'*/[0m
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 6.0ms (8 queries, 0 cached) | GC: 1.2ms)


